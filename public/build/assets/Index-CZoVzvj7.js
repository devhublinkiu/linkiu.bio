import{c as m,r as f,u as B,j as e,H as U}from"./app-DC0VdX9s.js";import{S as z}from"./SuperAdminLayout-8dtwKfpn.js";import{B as n}from"./button-CwaftRC9.js";import{I as l}from"./input-DycfGEDM.js";import{L as o}from"./label-CJzxxbAT.js";import{C as u,a as p,b as h,c as x,d as j,e as b}from"./card-Ctcbb2M4.js";import{T as O,a as V,b as g,c as v}from"./tabs-DoxJbDKj.js";import{S as q}from"./separator-BvfwgiHl.js";import{A as H,a as W}from"./alert-8CNhAC6E.js";import{F as N}from"./field-o5DPVIv6.js";import{P as J}from"./dropdown-menu-DQ3ZhwFW.js";import{I as X}from"./image-ByQ6p7Ds.js";import{G as $}from"./globe-CLalq3Qa.js";import{U as K}from"./upload-CK6Byfq4.js";import{M as Q}from"./mail-BEjBUjlx.js";import{F as Y,I as Z}from"./instagram-B-HZEilA.js";import{c as ee}from"./createLucideIcon-DJ4NDwYV.js";import{C as ae}from"./credit-card-Br8ESLwS.js";import{I as se}from"./info-Brl9O_JZ.js";import"./chevron-right-PTgBRbQi.js";import"./chevrons-up-down-BtLav8rf.js";import"./badge-check-BS0cRFCH.js";import"./ApplicationLogo-BQIlgRPv.js";import"./users-Cgy2ffiO.js";import"./layout-grid-RI3UXLIL.js";import"./utils-DBZkxVr1.js";import"./index-BmeUzyeu.js";import"./index-CzsG3l2v.js";import"./index-rHpqUtkR.js";import"./index-BfEwHv9F.js";import"./index-0coVNd7N.js";import"./index-DnYW8pH5.js";import"./index-D2N1-uIE.js";import"./index-CSYYB_ev.js";import"./circle-check-C5cvU04D.js";import"./trash-2-BoAeUuPT.js";import"./check-CDE1QUCE.js";import"./shopping-bag-C6Zaioqk.js";import"./dialog-BgrajDqf.js";import"./x-B_AiqYVR.js";import"./sheet-DMF7JpR0.js";import"./index-CfjIlq6E.js";import"./index-DdpLosxE.js";import"./index-B8PFW4lY.js";import"./index-DFaq0Ini.js";const re=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],te=ee("twitter",re);function Qe({settings:s,logo_url:k,favicon_url:w}){const{auth:C}=m().props,y=C.permissions||[],I=!(C.user?.is_super_admin||y.some(a=>a.startsWith("sa."))&&!C.user?.tenant_id)||y.includes("*")||y.includes("sa.settings.update"),[D,F]=f.useState(!1),{data:r,setData:t,post:R,processing:i,errors:c}=B({app_name:s.app_name||"",support_email:s.support_email||"",facebook_url:s.facebook_url||"",instagram_url:s.instagram_url||"",twitter_url:s.twitter_url||"",meta_title:s.meta_title||"",meta_description:s.meta_description||"",bank_name:s.bank_name||"",bank_account_type:s.bank_account_type||"",bank_account_number:s.bank_account_number||"",bank_account_holder:s.bank_account_holder||"",bank_account_nit:s.bank_account_nit||"",logo:null,favicon:null,profile_photo:null,profile_photo_preview:null}),[E,M]=f.useState(k),[L,T]=f.useState(w);f.useEffect(()=>{M(k),T(w),t({...r,app_name:s.app_name||"",support_email:s.support_email||"",facebook_url:s.facebook_url||"",instagram_url:s.instagram_url||"",twitter_url:s.twitter_url||"",meta_title:s.meta_title||"",meta_description:s.meta_description||"",bank_name:s.bank_name||"",bank_account_type:s.bank_account_type||"",bank_account_number:s.bank_account_number||"",bank_account_holder:s.bank_account_holder||"",bank_account_nit:s.bank_account_nit||""})},[s,k,w]);const S=(a,_)=>{const P=a.target.files?.[0];if(P){t(_,P);const d=new FileReader;d.onloadend=()=>{_==="logo"&&M(d.result),_==="favicon"&&T(d.result),_==="profile_photo"&&t("profile_photo_preview",d.result)},d.readAsDataURL(P)}},G=a=>{I||(a.preventDefault(),F(!0))},A=a=>{if(a.preventDefault(),!I){F(!0);return}R(route("settings.update"),{forceFormData:!0})};return e.jsxs(z,{header:"Configuración General",children:[e.jsx(U,{title:"Configuración"}),e.jsx(J,{open:D,onOpenChange:F}),e.jsx("div",{className:"max-w-4xl mx-auto py-6",children:e.jsx("form",{onSubmit:A,children:e.jsxs(O,{defaultValue:"general",className:"w-full",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(V,{children:[e.jsx(g,{value:"general",children:"Identidad"}),e.jsx(g,{value:"contact",children:"Contacto y Redes"}),e.jsx(g,{value:"billing",children:"Facturación"}),e.jsx(g,{value:"seo",children:"SEO Global"})]})}),e.jsxs(v,{value:"general",className:"space-y-6",children:[e.jsxs(u,{children:[e.jsx(p,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(h,{children:"Identidad de Marca"}),e.jsx(x,{children:"Configura los elementos visuales clave de tu plataforma."})]})})}),e.jsxs(j,{className:"space-y-8",children:[e.jsxs("div",{className:"grid gap-3 max-w-md",children:[e.jsx(o,{htmlFor:"app_name",children:"Nombre del Aplicativo"}),e.jsx(l,{id:"app_name",value:r.app_name,onChange:a=>t("app_name",a.target.value),required:!0,placeholder:"Ej. Mi Plataforma SaaS"}),e.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:"Este nombre aparecerá en títulos y correos electrónicos."}),e.jsx(N,{children:c.app_name})]}),e.jsx(q,{}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{children:"Logo Principal"}),e.jsxs("div",{className:"flex items-start gap-4 p-4 border border-dashed rounded-lg bg-muted/50 hover:bg-muted transition-colors relative group",children:[e.jsx("div",{className:"h-16 w-16 flex-shrink-0 bg-background border rounded-md shadow-sm flex items-center justify-center p-1 overflow-hidden pointer-events-none",children:E?e.jsx("img",{src:E,className:"w-full h-full object-contain",alt:"Logo"}):e.jsx(X,{className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Subir imagen"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Recomendado: SVG o PNG transparente.",e.jsx("br",{}),"Máx. 2MB."]}),e.jsx(N,{className:"mt-1",children:c.logo})]}),e.jsx(l,{type:"file",accept:"image/*",onClick:G,onChange:a=>S(a,"logo"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{children:"Favicon"}),e.jsxs("div",{className:"flex items-start gap-4 p-4 border border-dashed rounded-lg bg-muted/50 hover:bg-muted transition-colors relative group",children:[e.jsx("div",{className:"h-16 w-16 flex-shrink-0 bg-background border rounded-md shadow-sm flex items-center justify-center p-3 overflow-hidden pointer-events-none",children:L?e.jsx("img",{src:L,className:"w-full h-full object-contain",alt:"Favicon"}):e.jsx($,{className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:"Subir icono"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Visible en la pestaña del navegador.",e.jsx("br",{}),"ICO, PNG o SVG."]}),e.jsx(N,{className:"mt-1",children:c.favicon})]}),e.jsx(l,{type:"file",accept:"image/x-icon,image/png,image/svg+xml",onClick:G,onChange:a=>S(a,"favicon"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]})]})]}),e.jsx(b,{children:e.jsx(n,{type:"submit",disabled:i,children:i?"Guardando...":"Guardar Cambios"})})]}),e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Tu Perfil"}),e.jsx(x,{children:"Personaliza cómo te ven otros usuarios y el sistema."})]}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"h-24 w-24 rounded-full overflow-hidden border-2 border-background shadow-md bg-muted flex-shrink-0",children:e.jsx("img",{src:r.profile_photo_preview||m().props.auth.user.profile_photo_url||`https://ui-avatars.com/api/?name=${m().props.auth.user.name}&background=0D8ABC&color=fff`,alt:"Profile",className:"h-full w-full object-cover transition-transform group-hover:scale-105"})}),e.jsx("div",{className:"absolute bottom-1 right-1 h-5 w-5 bg-green-500 border-2 border-background rounded-full"})]}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-base font-medium leading-none",children:m().props.auth.user.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m().props.auth.user.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs(n,{variant:"outline",size:"sm",className:"gap-2 relative pointer-events-none",children:[e.jsx(K,{className:"h-4 w-4"}),"Cambiar Foto"]}),e.jsx(l,{type:"file",accept:"image/*",onClick:G,onChange:a=>S(a,"profile_photo"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG o WebP. Máx 2MB."})]}),c.profile_photo&&e.jsx(N,{children:c.profile_photo})]})]})}),e.jsx(b,{children:e.jsx(n,{type:"submit",disabled:i,children:i?"Guardando...":"Guardar Cambios"})})]})]}),e.jsx(v,{value:"contact",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Contacto y Redes Sociales"}),e.jsx(x,{children:"Enlaces visibles en el footer y correos del sistema."})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"support_email",children:"Email de Soporte"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"support_email",type:"email",className:"pl-9",placeholder:"support@linkiu.bio",value:r.support_email,onChange:a=>t("support_email",a.target.value)})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"facebook",children:"Facebook URL"}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"facebook",className:"pl-9",placeholder:"https://facebook.com/...",value:r.facebook_url,onChange:a=>t("facebook_url",a.target.value)})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"instagram",children:"Instagram URL"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"instagram",className:"pl-9",placeholder:"https://instagram.com/...",value:r.instagram_url,onChange:a=>t("instagram_url",a.target.value)})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"twitter",children:"Twitter / X URL"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"twitter",className:"pl-9",placeholder:"https://x.com/...",value:r.twitter_url,onChange:a=>t("twitter_url",a.target.value)})]})]})]}),e.jsx(b,{children:e.jsx(n,{type:"submit",disabled:i,children:i?"Guardando...":"Guardar Cambios"})})]})}),e.jsx(v,{value:"seo",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"SEO Global"}),e.jsx(x,{children:"Metadatos por defecto para compartir en redes."})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"meta_title",children:"Meta Título (Default)"}),e.jsx(l,{id:"meta_title",value:r.meta_title,onChange:a=>t("meta_title",a.target.value),maxLength:60}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[r.meta_title.length,"/60"]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"meta_description",children:"Meta Descripción (Default)"}),e.jsx(l,{id:"meta_description",value:r.meta_description,onChange:a=>t("meta_description",a.target.value),maxLength:160}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[r.meta_description.length,"/160"]})]})]}),e.jsx(b,{children:e.jsx(n,{type:"submit",disabled:i,children:i?"Guardando...":"Guardar Cambios"})})]})}),e.jsx(v,{value:"billing",className:"space-y-6",children:e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(h,{children:"Datos de Recaudo"}),e.jsx(x,{children:"Información bancaria para pagos manuales de los inquilinos."})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"bank_name",children:"Nombre del Banco"}),e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"bank_name",className:"pl-9",placeholder:"Ej. Bancolombia",value:r.bank_name,onChange:a=>t("bank_name",a.target.value)})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"bank_account_type",children:"Tipo de Cuenta"}),e.jsx(l,{id:"bank_account_type",placeholder:"Ej. Ahorros",value:r.bank_account_type,onChange:a=>t("bank_account_type",a.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"bank_account_number",children:"Número de Cuenta"}),e.jsx(l,{id:"bank_account_number",placeholder:"000-000-000-00",value:r.bank_account_number,onChange:a=>t("bank_account_number",a.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"bank_account_nit",children:"NIT / Cédula"}),e.jsx(l,{id:"bank_account_nit",placeholder:"900.000.000-0",value:r.bank_account_nit,onChange:a=>t("bank_account_nit",a.target.value)})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"bank_account_holder",children:"Titular de la Cuenta"}),e.jsx(l,{id:"bank_account_holder",placeholder:"Nombre completo o Razón Social",value:r.bank_account_holder,onChange:a=>t("bank_account_holder",a.target.value)})]}),e.jsxs(H,{children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx(W,{children:"Estos datos aparecerán automáticamente en la tarjeta de suscripción del panel de inquilinos cuando su plan esté por vencer."})]})]}),e.jsx(b,{children:e.jsx(n,{type:"submit",disabled:i,children:i?"Guardando...":"Guardar Cambios"})})]})})]})})})]})}export{Qe as default};
