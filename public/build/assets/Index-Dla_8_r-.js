import{c as k,r as x,j as e,H as m,L as p,a as u}from"./app-DvpAkplk.js";import{B as b}from"./button-DOQ0axlO.js";import{B as f}from"./badge-IfxeRtOE.js";import{C as _}from"./chevron-left-CFFX0xaS.js";import{C as E}from"./chevron-right-wq5EBuGT.js";import"./utils-Bt66apXy.js";import"./createLucideIcon-BAweqaF3.js";const z="?autoplay=true&muted=false&loop=true&preload=true&controls=false&playsinline=true",C=1e4,I={category:"Categoría",product:"Producto",external:"Enlace externo"};function F({tenant:n,items:s,has_multiple_locations:o=!1}){const{currentTenant:g}=k().props,[i,c]=x.useState(0),l=g?.slug??n?.slug,t=s[i],w=()=>c(a=>a<=0?s.length-1:a-1),j=()=>c(a=>a>=s.length-1?0:a+1);x.useEffect(()=>{if(s.length<=1)return;const a=setInterval(()=>{c(r=>r>=s.length-1?0:r+1)},C);return()=>clearInterval(a)},[s.length]);const v=a=>{u.post(route("tenant.shorts.enter",{tenant:l}),{location_id:a})},N=(a,r)=>{!a||a==="#"||(r==="external"?window.open(a,"_blank","noopener,noreferrer"):u.visit(a))};if(!s.length){const a=l?route("tenant.home",{tenant:l}):"#";return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 bg-slate-900 text-white p-4",children:[e.jsx(m,{title:n.name}),e.jsx("p",{className:"text-center",children:"No hay shorts disponibles."}),!o&&a!=="#"&&e.jsx(p,{href:a,className:"rounded-xl font-black text-lg px-6 py-3 bg-white text-black hover:bg-white/90",children:"Ingresar a la tienda"})]})}const d=t?.short_embed_url,h=t?.type==="location",y=t?.type==="promo";return e.jsxs(e.Fragment,{children:[e.jsx(m,{title:o?`${n.name} - Elige tu sede`:`${n.name} - Promociones`}),e.jsxs("div",{className:"min-h-screen w-full flex justify-center items-start pt-0 sm:pt-4 pb-0 sm:pb-4 relative overflow-hidden transition-colors duration-500",children:[e.jsx("div",{className:"fixed inset-0 -z-30 bg-[url('https://images.unsplash.com/photo-1554118811-1e0d58224f24?q=80&w=2000&auto=format&fit=crop')] bg-cover bg-center"}),e.jsx("div",{className:"fixed inset-0 -z-20 transition-colors duration-500 mix-blend-multiply opacity-80 bg-[#f0f2f5]"}),e.jsx("div",{className:"fixed inset-0 -z-10 backdrop-blur-[100px] bg-white/10"}),e.jsxs("div",{className:"w-full max-w-[480px] h-screen min-h-[600px] max-h-[100vh] sm:h-[850px] sm:min-h-[700px] bg-black shadow-2xl md:rounded-[2rem] overflow-hidden flex flex-col relative border border-slate-200/60 mx-auto z-10",children:[d?e.jsx("div",{className:"absolute inset-0 z-0",children:e.jsx("iframe",{title:h?`Sede ${t.location_name}`:t.type==="promo"?t.name:"",src:`${d}${z}`,className:"absolute inset-0 w-full h-full object-cover pointer-events-none",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0},i)}):e.jsx("div",{className:"absolute inset-0 z-0 bg-gradient-to-br from-slate-800 to-slate-900"}),e.jsx("div",{className:"absolute top-6 left-0 right-0 flex justify-center gap-2 z-20 px-4",children:s.map((a,r)=>e.jsx("span",{className:`block h-1.5 rounded-full transition-all duration-300 ${r===i?"w-8 bg-white":"w-2 bg-white/50"}`},r))}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-10 bg-gradient-to-t from-black/95 via-black/80 to-transparent pt-16 pb-8 px-5",children:[h&&t.type==="location"&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-xl font-black text-white uppercase tracking-wider mb-4 drop-shadow-lg",children:["SEDE ",t.location_name]}),e.jsx(b,{onClick:()=>v(t.location_id),className:"w-full h-14 rounded-xl font-black text-lg bg-white text-black hover:bg-white/90 shadow-lg",children:"INGRESAR"})]}),y&&t.type==="promo"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight mb-1 drop-shadow-lg",children:t.name}),t.description&&e.jsx("p",{className:"text-sm text-white/95 mb-3 line-clamp-2 drop-shadow",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(f,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:I[t.link_type]??t.link_type}),t.location_name&&e.jsx(f,{variant:"outline",className:"bg-black/30 text-white border-white/40",children:t.location_name})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(b,{onClick:()=>N(t.action_url,t.link_type),className:"w-full h-14 rounded-xl font-black text-lg bg-white text-black hover:bg-white/90 shadow-lg",children:t.link_type==="external"?"Ver enlace":"Ver más"}),!o&&l&&e.jsx(p,{href:route("tenant.home",{tenant:l}),className:"w-full h-12 rounded-xl font-bold text-base bg-white/20 text-white border border-white/40 hover:bg-white/30 flex items-center justify-center",children:"Ingresar a la tienda"})]})]})]}),e.jsx("button",{type:"button",onClick:w,className:"absolute left-3 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full bg-white/95 hover:bg-white shadow-xl flex items-center justify-center text-black","aria-label":"Anterior",children:e.jsx(_,{className:"w-7 h-7"})}),e.jsx("button",{type:"button",onClick:j,className:"absolute right-3 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full bg-white/95 hover:bg-white shadow-xl flex items-center justify-center text-black","aria-label":"Siguiente",children:e.jsx(E,{className:"w-7 h-7"})})]})]})]})}export{F as default};
