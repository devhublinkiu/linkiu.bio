import{u as E,r as n,b as L,j as e,L as k,t as p}from"./app-BxeeMXn5.js";import{c as m}from"./utils-C-R0dfCD.js";import{s as x}from"./index-BsxvijQw.js";import{O as S}from"./OnboardingLayout-Cl9vMX68.js";import{B as P}from"./button-7JWLOcK_.js";import{I as c}from"./input-DAizBa_g.js";import{L as d}from"./label-DvE9LE6F.js";import{B as q}from"./badge-lrHzGyyu.js";import{U as v}from"./user-CUi44rAN.js";import{M as F}from"./mail-CRb31Wnk.js";import{L as B}from"./loader-circle-Os_MzIh-.js";import{C as O}from"./circle-check-BQHjiPz9.js";import{L as N}from"./lock-D8DYOORy.js";import{E as T}from"./eye-off-6_72xnbA.js";import{E as V}from"./eye-D9_7q_bS.js";import{S as z}from"./shield-check-DszAH22Q.js";import{C as I}from"./chevron-left-C6qfJShI.js";import{A as R}from"./arrow-right-CWH0--9Y.js";import"./index-Dtj3r8is.js";import"./createLucideIcon-MMsaX1RM.js";function ie({onboardingData:u,siteSettings:b}){const{data:s,setData:i,post:_,processing:h,errors:a}=E({owner_name:u?.owner_name||"",owner_email:u?.owner_email||"",owner_password:"",owner_password_confirmation:""}),[l,y]=n.useState(!1),[w,f]=n.useState(!1),[t,g]=n.useState(null);n.useEffect(()=>{const r=setTimeout(async()=>{if(s.owner_email&&s.owner_email.includes("@")){f(!0),g(null);try{const o=await L.post(x("onboarding.validate"),{field:"owner_email",value:s.owner_email});o.data.valid||g(o.data.message)}catch(o){console.error("Validation error",o)}finally{f(!1)}}},600);return()=>clearTimeout(r)},[s.owner_email]);const C=r=>{if(r.preventDefault(),t){p.error(t);return}if(s.owner_password!==s.owner_password_confirmation){p.error("Las contraseñas no coinciden");return}_(x("onboarding.step2.store"),{onError:o=>{const j=Object.values(o)[0];p.error(typeof j=="string"?j:"Revisa los campos marcados")}})};return e.jsx(S,{currentStep:2,siteSettings:b,title:"Crea tu cuenta | Linkiu",children:e.jsxs("div",{className:"max-w-xl mx-auto space-y-10 animate-in fade-in slide-in-from-bottom-6 duration-700",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs(q,{variant:"outline",className:"px-4 py-1.5 border-primary/20 bg-primary/5 text-primary",children:[e.jsx(v,{className:"w-3.5 h-3.5 mr-2"}),"Paso 2: Tu Cuenta"]}),e.jsxs("h1",{className:"text-4xl font-extrabold tracking-tight text-slate-900",children:["Crea tu ",e.jsx("span",{className:"text-primary",children:"Perfil"})]}),e.jsx("p",{className:"text-slate-500",children:"Ingresa tus datos para gestionar tu tienda desde cualquier lugar."})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl p-8 border border-slate-100 shadow-xl shadow-slate-200/50 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"owner_name",className:"text-sm font-bold text-slate-700 ml-1",children:"Nombre completo"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-primary transition-colors",children:e.jsx(v,{className:"w-5 h-5"})}),e.jsx(c,{id:"owner_name",placeholder:"Ej: Juan Pérez",className:m("h-14 pl-12 rounded-2xl border-slate-200 transition-all focus:ring-4 focus:ring-primary/10",a.owner_name&&"border-destructive ring-destructive/10"),value:s.owner_name,onChange:r=>i("owner_name",r.target.value),required:!0})]}),a.owner_name&&e.jsx("p",{className:"text-destructive text-xs font-medium ml-1",children:a.owner_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"owner_email",className:"text-sm font-bold text-slate-700 ml-1",children:"Correo electrónico"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-primary transition-colors",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsx(c,{id:"owner_email",type:"email",placeholder:"tunombre@ejemplo.com",className:m("h-14 pl-12 pr-12 rounded-2xl border-slate-200 transition-all focus:ring-4 focus:ring-primary/10",(a.owner_email||t)&&"border-destructive ring-destructive/10"),value:s.owner_email,onChange:r=>i("owner_email",r.target.value),required:!0}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center",children:w?e.jsx(B,{className:"w-5 h-5 text-primary animate-spin"}):s.owner_email&&!t&&e.jsx(O,{className:"w-5 h-5 text-green-500 animate-in zoom-in"})})]}),(a.owner_email||t)&&e.jsx("p",{className:"text-destructive text-xs font-medium ml-1",children:a.owner_email||t})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"owner_password",className:"text-sm font-bold text-slate-700 ml-1",children:"Contraseña"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-primary transition-colors",children:e.jsx(N,{className:"w-5 h-5"})}),e.jsx(c,{id:"owner_password",type:l?"text":"password",placeholder:"••••••••",className:m("h-14 pl-12 pr-10 rounded-2xl border-slate-200 transition-all focus:ring-4 focus:ring-primary/10",a.owner_password&&"border-destructive ring-destructive/10"),value:s.owner_password,onChange:r=>i("owner_password",r.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>y(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-primary transition-colors",children:l?e.jsx(T,{className:"w-5 h-5"}):e.jsx(V,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"owner_password_confirmation",className:"text-sm font-bold text-slate-700 ml-1",children:"Confirmar"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-primary transition-colors",children:e.jsx(N,{className:"w-5 h-5"})}),e.jsx(c,{id:"owner_password_confirmation",type:l?"text":"password",placeholder:"••••••••",className:m("h-14 pl-12 rounded-2xl border-slate-200 transition-all focus:ring-4 focus:ring-primary/10",s.owner_password&&s.owner_password!==s.owner_password_confirmation&&"border-destructive"),value:s.owner_password_confirmation,onChange:r=>i("owner_password_confirmation",r.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"pt-4 bg-slate-50 rounded-2xl p-4 border border-slate-100 flex items-start gap-3",children:[e.jsx(z,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"Usamos encriptación de grado bancario para proteger tus datos. Tu privacidad es nuestra prioridad número uno."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[e.jsxs(k,{href:x("onboarding.step1"),className:"flex items-center text-sm font-bold text-slate-400 hover:text-primary transition-colors group",children:[e.jsx(I,{className:"mr-2 w-4 h-4 transition-transform group-hover:-translate-x-1"}),"Volver a industrias"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-xs font-bold text-slate-300 tracking-widest uppercase",children:"Paso 2 de 3"}),e.jsxs(P,{type:"submit",size:"lg",disabled:h||w,className:"h-14 px-10 rounded-2xl font-bold bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/25 transition-all active:scale-95",children:[h?"Guardando...":"Crear Cuenta",e.jsx(R,{className:"ml-2 w-5 h-5"})]})]})]})]})]})})}export{ie as default};
