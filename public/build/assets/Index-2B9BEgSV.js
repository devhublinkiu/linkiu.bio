import{c as y,r as h,j as e,H as k,L as C}from"./app-arqQV-bc.js";import{A as T}from"./AdminLayout-DCtk7OxF.js";import{C as o,a as n,b as c,c as f,d as l}from"./card-BQPJWSk4.js";import{T as B,a as _,b as d,c as i,d as P,e as r}from"./table-BF9Ri8Ro.js";import{B as a}from"./badge-t3wrEXXG.js";import{B as j}from"./button-Bd640uTA.js";import{P as S}from"./PaymentUploadModal-DFEd93lj.js";import{B as H}from"./banknote-byFf_CZb.js";import{C as E}from"./credit-card-4AdI57T8.js";import{E as U}from"./eye-D3xGokJ6.js";import{U as A}from"./upload-CwkNDMLZ.js";import{C as g}from"./circle-alert-CdoJyCDE.js";import{C as F}from"./clock-D6SFixQE.js";import{C as I}from"./circle-check-big-DC5g5t13.js";import{f as L}from"./format-Du31obhd.js";import{e as M}from"./es-BteQoBuv.js";import"./utils-BegMJZHH.js";import"./progress-BWnj_no5.js";import"./index-CVnnicxK.js";import"./index-C-vN8jX4.js";import"./dropdown-menu-mNq1McYa.js";import"./createLucideIcon-kbomgvBs.js";import"./chevron-right-CyE8jcbn.js";import"./index-CwhdJaVg.js";import"./index-B_Os2ghw.js";import"./index-CJZqa-kr.js";import"./index-C9GonLHF.js";import"./circle-check-CJmQNw_U.js";import"./trash-2-D8UpIHBH.js";import"./check-BZhepUpU.js";import"./shopping-bag-TtCDC01g.js";import"./dialog-Do7ESPrT.js";import"./x-hBSqTjfa.js";import"./input-CnYabjbM.js";import"./separator-DpUia1Ar.js";import"./sheet-BJFcoitR.js";import"./index-CfChaKac.js";import"./index-DzhEK4jt.js";import"./index-iS2GCZ5y.js";import"./index-Bz80iYGN.js";import"./index-DiBfayRM.js";import"./index-DDCOIm2e.js";import"./menuConfig-C-Q0avcz.js";import"./video-B-ftvkxj.js";import"./chef-hat-q1zMrLCc.js";import"./table-Bk0hf6m9.js";import"./user-KA4Ja2_R.js";import"./map-pin-D1VGCzYf.js";import"./star-qP03KNv_.js";import"./users-DyLj9nwM.js";import"./calendar-check-BUphR3zi.js";import"./calendar-DHlqI9qY.js";import"./briefcase-CG7ArIFZ.js";import"./truck-DCx-3LGs.js";import"./message-circle-DV6RjH4d.js";import"./package-34OeiGxz.js";import"./layout-dashboard-DnE9OzLr.js";import"./badge-check-C3DjHgnO.js";import"./lock-Cb_9eXlT.js";import"./sparkles-fY3WANvl.js";import"./external-link-r8YAPN_c.js";import"./chevron-down-CS-ozzzB.js";import"./headphones-Uo3Em3Q5.js";import"./shield-BQB1r0z5.js";import"./sonner-SWZRrF5D.js";import"./file-text-YEtWmTBD.js";import"./loader-circle-C7WOXZ8A.js";function Ze({invoices:m,bankDetails:t}){const{auth:R,currentTenant:N}=y().props,[p,x]=h.useState(null),[b,u]=h.useState(!1),v=s=>{x(s),u(!0)},w=s=>{switch(s){case"paid":return e.jsxs(a,{className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:[e.jsx(I,{className:"w-3 h-3 mr-1"})," Pagado"]});case"pending_review":return e.jsxs(a,{variant:"secondary",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:[e.jsx(F,{className:"w-3 h-3 mr-1"})," En Revisión"]});case"pending":return e.jsxs(a,{variant:"outline",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0 text-amber-600 border-amber-200",children:[e.jsx(g,{className:"w-3 h-3 mr-1"})," Pendiente"]});case"overdue":return e.jsxs(a,{variant:"destructive",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:[e.jsx(g,{className:"w-3 h-3 mr-1"})," Vencida"]});default:return e.jsx(a,{variant:"secondary",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:s})}};return e.jsxs(T,{children:[e.jsx(k,{title:"Facturación"}),e.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Facturación"}),e.jsx("p",{className:"text-muted-foreground font-medium mt-1 uppercase text-xs tracking-widest",children:"Historial de pagos y suscripción"})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(o,{className:"md:col-span-1 shadow-sm",children:[e.jsxs(n,{className:"pb-4",children:[e.jsxs(c,{className:"flex items-center gap-2 text-lg font-bold",children:[e.jsx(H,{className:"w-5 h-5 text-primary"}),"Datos Bancarios"]}),e.jsx(f,{className:"font-medium",children:"Realiza tu pago vía transferencia."})]}),e.jsx(l,{className:"space-y-4",children:t?e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"Banco"}),e.jsx("span",{className:"font-bold",children:t.bank_name})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"Tipo"}),e.jsx("span",{className:"font-bold",children:t.bank_account_type})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"Número"}),e.jsx("span",{className:"font-bold",children:t.bank_account_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"NIT"}),e.jsx("span",{className:"font-bold",children:t.bank_account_nit})]})]}):e.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm italic font-medium",children:"No hay datos bancarios configurados."})})]}),e.jsxs(o,{className:"md:col-span-2 bg-primary text-primary-foreground shadow-xl border-none relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(E,{className:"w-32 h-32"})}),e.jsx(n,{children:e.jsx(c,{className:"opacity-70 uppercase text-[10px] tracking-widest font-black",children:"Tu Suscripción"})}),e.jsxs(l,{className:"pb-8",children:[e.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[e.jsx("div",{className:"text-5xl font-black tracking-tighter",children:"Activa"}),e.jsx(a,{variant:"secondary",className:"mb-2 ring-0 hover:ring-0 focus:ring-0",children:"Premium"})]}),e.jsx("p",{className:"opacity-70 text-sm max-w-md font-medium",children:"Tu servicio está funcionando correctamente. Puedes ver tus comprobantes reportados en la tabla inferior o reportar uno nuevo."})]})]})]}),e.jsxs(o,{className:"shadow-sm",children:[e.jsx(n,{className:"flex flex-row items-center justify-between border-b pb-6 mb-2",children:e.jsxs("div",{children:[e.jsx(c,{className:"font-black text-xl",children:"Historial de Facturas"}),e.jsx(f,{className:"font-medium",children:"Listado detallado de tus cobros y pagos."})]})}),e.jsx(l,{className:"p-0",children:e.jsxs(B,{children:[e.jsx(_,{children:e.jsxs(d,{className:"hover:bg-transparent",children:[e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground pl-6",children:"Fecha"}),e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground",children:"Concepto"}),e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground",children:"Valor"}),e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground",children:"Estado"}),e.jsx(i,{className:"text-right font-bold text-[10px] uppercase tracking-widest text-muted-foreground pr-6",children:"Acciones"})]})}),e.jsx(P,{children:m.length>0?m.map(s=>e.jsxs(d,{children:[e.jsx(r,{className:"pl-6 font-bold",children:L(new Date(s.created_at),"dd MMM, yyyy",{locale:M})}),e.jsx(r,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-bold",children:["Plan ",s.subscription?.plan?.name||"Suscripción"]}),e.jsxs("span",{className:"text-[10px] uppercase font-black text-muted-foreground tracking-tighter",children:["Factura #",s.id]})]})}),e.jsxs(r,{className:"font-black",children:["$",Number(s.amount).toLocaleString()]}),e.jsx(r,{children:w(s.status)}),e.jsx(r,{className:"text-right pr-6",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:e.jsxs(C,{href:route("tenant.invoices.show",{tenant:N?.slug,invoice:s.id}),children:[e.jsx(U,{className:"w-4 h-4 mr-1"})," Ver Detalle"]})}),s.status==="pending"&&e.jsxs(j,{size:"sm",className:"h-8 shadow-sm cursor-pointer ring-0 hover:ring-0 focus:ring-0",onClick:()=>v(s),children:[e.jsx(A,{className:"w-4 h-4 mr-1"})," Subir Pago"]})]})})]},s.id)):e.jsx(d,{children:e.jsx(r,{colSpan:5,className:"text-center py-12 text-slate-400 font-medium italic",children:"No tienes facturas generadas aún."})})})]})})]})]}),p&&e.jsx(S,{isOpen:b,onClose:()=>{u(!1),x(null)},invoice:p})]})}export{Ze as default};
