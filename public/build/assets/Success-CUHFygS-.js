import{R as se,j as r,r as R,u as ae,t as j,a as ne,H as ie,L as v}from"./app-B2i56772.js";import{A as le}from"./AdminLayout-DpFX9UTo.js";import{C as F}from"./card-BWsdLjRP.js";import{B as S}from"./button-BddZHLbc.js";import{s as y}from"./index-BsxvijQw.js";import{B as ce}from"./badge-v4EM3Inb.js";import{c as oe}from"./utils-DyIEM9Hy.js";import{u as de,R as ue}from"./useWindowSize-CYpygUAP.js";import{a as me}from"./index-BAv4wO3Y.js";import{C as O}from"./circle-check-qwWqnypp.js";import{S as he}from"./shield-check-Dv2fJDQ1.js";import{G as pe}from"./globe-DZUGoKEz.js";import{D as fe}from"./download-D_Y8_7aS.js";import{L as xe}from"./layout-dashboard-Cd8XF3JQ.js";import{Z as ge}from"./zap-bmR7iXF3.js";import{R as z}from"./rocket-CivM4k_a.js";import{C as D}from"./cloud-upload-DgHUV9T3.js";import{F as be}from"./file-text-gHkosXrr.js";import{C as we}from"./clock-1H1T-Hrd.js";import{L as ye}from"./loader-circle-DonU1VRm.js";import"./progress-CHg3IQdJ.js";import"./index-DBzmoSVG.js";import"./index-CAHj415D.js";import"./index-BKbrreay.js";import"./dropdown-menu-DmXnVWVS.js";import"./createLucideIcon-D_eBnp1W.js";import"./chevron-right-CbumkvGd.js";import"./dialog-BfzucGwq.js";import"./index-DJSPV-or.js";import"./index-ykKLN3SD.js";import"./index-DvWOdVYN.js";import"./x-B5LJUYBC.js";import"./trash-2-DFiSLFW9.js";import"./check-BXudH8di.js";import"./credit-card-C_C5Gl_c.js";import"./shopping-bag-Bo9Pazs1.js";import"./input-DBNIwXu0.js";import"./separator-BeNm-P6u.js";import"./sheet-BYmPEYHR.js";import"./index-0TEkSQsx.js";import"./index-o5QoyLO9.js";import"./index-OfG7Dj8W.js";import"./index-BbbmFCg3.js";import"./index-DHp04QnP.js";import"./menuConfig-DmcJDscn.js";import"./video-DGfX4q0e.js";import"./chef-hat-CvyNNXzc.js";import"./table-BLLfHlez.js";import"./user-DHzOQ6OD.js";import"./map-pin-ri_iNx9P.js";import"./banknote-DNARpvAy.js";import"./star-BpzXTGgh.js";import"./users-4ML6WyRj.js";import"./calendar-check-CnVNb9CI.js";import"./calendar-Ck1wG4bv.js";import"./briefcase-C3iT5Z4z.js";import"./truck-lFBp_-Xb.js";import"./message-circle-5eeJlDPf.js";import"./package-DDNPJLjr.js";import"./badge-check-D1_tuun5.js";import"./lock-DD0Y-Lpl.js";import"./sparkles-hzHxndp_.js";import"./external-link-B2fnfMGN.js";import"./chevron-down-BDQOlKUd.js";import"./headphones-CDKhQ2od.js";import"./shield-BMdEYS_D.js";import"./sonner-BG1d_7G1.js";import"./util-CeAI_f06.js";function je(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const s=document.implementation.createHTMLDocument(),a=s.createElement("base"),i=s.createElement("a");return s.head.appendChild(a),s.body.appendChild(i),t&&(a.href=t),i.href=e,i.href}const ve=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function x(e){const t=[];for(let s=0,a=e.length;s<a;s++)t.push(e[s]);return t}let g=null;function B(e={}){return g||(e.includeStyleProperties?(g=e.includeStyleProperties,g):(g=x(window.getComputedStyle(document.documentElement)),g))}function N(e,t){const a=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return a?parseFloat(a.replace("px","")):0}function Se(e){const t=N(e,"border-left-width"),s=N(e,"border-right-width");return e.clientWidth+t+s}function Ne(e){const t=N(e,"border-top-width"),s=N(e,"border-bottom-width");return e.clientHeight+t+s}function W(e,t={}){const s=t.width||Se(e),a=t.height||Ne(e);return{width:s,height:a}}function Ee(){let e,t;try{t=process}catch{}const s=t&&t.env?t.env.devicePixelRatio:null;return s&&(e=parseInt(s,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const u=16384;function Ce(e){(e.width>u||e.height>u)&&(e.width>u&&e.height>u?e.width>e.height?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u):e.width>u?(e.height*=u/e.width,e.width=u):(e.width*=u/e.height,e.height=u))}function E(e){return new Promise((t,s)=>{const a=new Image;a.onload=()=>{a.decode().then(()=>{requestAnimationFrame(()=>t(a))})},a.onerror=s,a.crossOrigin="anonymous",a.decoding="async",a.src=e})}async function ke(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Re(e,t,s){const a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),n=document.createElementNS(a,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${s}`),i.setAttribute("viewBox",`0 0 ${t} ${s}`),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("externalResourcesRequired","true"),i.appendChild(n),n.appendChild(e),ke(i)}const d=(e,t)=>{if(e instanceof t)return!0;const s=Object.getPrototypeOf(e);return s===null?!1:s.constructor.name===t.name||d(s,t)};function Pe(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Fe(e,t){return B(t).map(s=>{const a=e.getPropertyValue(s),i=e.getPropertyPriority(s);return`${s}: ${a}${i?" !important":""};`}).join(" ")}function Le(e,t,s,a){const i=`.${e}:${t}`,n=s.cssText?Pe(s):Fe(s,a);return document.createTextNode(`${i}{${n}}`)}function I(e,t,s,a){const i=window.getComputedStyle(e,s),n=i.getPropertyValue("content");if(n===""||n==="none")return;const l=ve();try{t.className=`${t.className} ${l}`}catch{return}const c=document.createElement("style");c.appendChild(Le(l,s,i,a)),t.appendChild(c)}function Te(e,t,s){I(e,t,":before",s),I(e,t,":after",s)}const A="application/font-woff",_="image/jpeg",$e={woff:A,woff2:A,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:_,jpeg:_,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function De(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function T(e){const t=De(e).toLowerCase();return $e[t]||""}function Ie(e){return e.split(/,/)[1]}function L(e){return e.search(/^(data:)/)!==-1}function Ae(e,t){return`data:${t};base64,${e}`}async function q(e,t,s){const a=await fetch(e,t);if(a.status===404)throw new Error(`Resource "${a.url}" not found`);const i=await a.blob();return new Promise((n,l)=>{const c=new FileReader;c.onerror=l,c.onloadend=()=>{try{n(s({res:a,result:c.result}))}catch(o){l(o)}},c.readAsDataURL(i)})}const P={};function _e(e,t,s){let a=e.replace(/\?.*/,"");return s&&(a=e),/ttf|otf|eot|woff2?/i.test(a)&&(a=a.replace(/.*\//,"")),t?`[${t}]${a}`:a}async function $(e,t,s){const a=_e(e,t,s.includeQueryParams);if(P[a]!=null)return P[a];s.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const n=await q(e,s.fetchRequestInit,({res:l,result:c})=>(t||(t=l.headers.get("Content-Type")||""),Ie(c)));i=Ae(n,t)}catch(n){i=s.imagePlaceholder||"";let l=`Failed to fetch resource: ${e}`;n&&(l=typeof n=="string"?n:n.message),l&&console.warn(l)}return P[a]=i,i}async function Ue(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):E(t)}async function He(e,t){if(e.currentSrc){const n=document.createElement("canvas"),l=n.getContext("2d");n.width=e.clientWidth,n.height=e.clientHeight,l?.drawImage(e,0,0,n.width,n.height);const c=n.toDataURL();return E(c)}const s=e.poster,a=T(s),i=await $(s,a,t);return E(i)}async function Ve(e,t){var s;try{if(!((s=e?.contentDocument)===null||s===void 0)&&s.body)return await C(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Me(e,t){return d(e,HTMLCanvasElement)?Ue(e):d(e,HTMLVideoElement)?He(e,t):d(e,HTMLIFrameElement)?Ve(e,t):e.cloneNode(G(e))}const Oe=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",G=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function ze(e,t,s){var a,i;if(G(t))return t;let n=[];return Oe(e)&&e.assignedNodes?n=x(e.assignedNodes()):d(e,HTMLIFrameElement)&&(!((a=e.contentDocument)===null||a===void 0)&&a.body)?n=x(e.contentDocument.body.childNodes):n=x(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),n.length===0||d(e,HTMLVideoElement)||await n.reduce((l,c)=>l.then(()=>C(c,s)).then(o=>{o&&t.appendChild(o)}),Promise.resolve()),t}function Be(e,t,s){const a=t.style;if(!a)return;const i=window.getComputedStyle(e);i.cssText?(a.cssText=i.cssText,a.transformOrigin=i.transformOrigin):B(s).forEach(n=>{let l=i.getPropertyValue(n);n==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),d(e,HTMLIFrameElement)&&n==="display"&&l==="inline"&&(l="block"),n==="d"&&t.getAttribute("d")&&(l=`path(${t.getAttribute("d")})`),a.setProperty(n,l,i.getPropertyPriority(n))})}function We(e,t){d(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),d(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function qe(e,t){if(d(e,HTMLSelectElement)){const a=Array.from(t.children).find(i=>e.value===i.getAttribute("value"));a&&a.setAttribute("selected","")}}function Ge(e,t,s){return d(t,Element)&&(Be(e,t,s),Te(e,t,s),We(e,t),qe(e,t)),t}async function Xe(e,t){const s=e.querySelectorAll?e.querySelectorAll("use"):[];if(s.length===0)return e;const a={};for(let n=0;n<s.length;n++){const c=s[n].getAttribute("xlink:href");if(c){const o=e.querySelector(c),m=document.querySelector(c);!o&&m&&!a[c]&&(a[c]=await C(m,t,!0))}}const i=Object.values(a);if(i.length){const n="http://www.w3.org/1999/xhtml",l=document.createElementNS(n,"svg");l.setAttribute("xmlns",n),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const c=document.createElementNS(n,"defs");l.appendChild(c);for(let o=0;o<i.length;o++)c.appendChild(i[o]);e.appendChild(l)}return e}async function C(e,t,s){return!s&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(a=>Me(a,t)).then(a=>ze(e,a,t)).then(a=>Ge(e,a,t)).then(a=>Xe(a,t))}const X=/url\((['"]?)([^'"]+?)\1\)/g,Ke=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Je=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Qe(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Ze(e){const t=[];return e.replace(X,(s,a,i)=>(t.push(i),s)),t.filter(s=>!L(s))}async function Ye(e,t,s,a,i){try{const n=s?je(t,s):t,l=T(t);let c;return i||(c=await $(n,l,a)),e.replace(Qe(t),`$1${c}$3`)}catch{}return e}function et(e,{preferredFontFormat:t}){return t?e.replace(Je,s=>{for(;;){const[a,,i]=Ke.exec(s)||[];if(!i)return"";if(i===t)return`src: ${a};`}}):e}function K(e){return e.search(X)!==-1}async function J(e,t,s){if(!K(e))return e;const a=et(e,s);return Ze(a).reduce((n,l)=>n.then(c=>Ye(c,l,t,s)),Promise.resolve(a))}async function b(e,t,s){var a;const i=(a=t.style)===null||a===void 0?void 0:a.getPropertyValue(e);if(i){const n=await J(i,null,s);return t.style.setProperty(e,n,t.style.getPropertyPriority(e)),!0}return!1}async function tt(e,t){await b("background",e,t)||await b("background-image",e,t),await b("mask",e,t)||await b("-webkit-mask",e,t)||await b("mask-image",e,t)||await b("-webkit-mask-image",e,t)}async function rt(e,t){const s=d(e,HTMLImageElement);if(!(s&&!L(e.src))&&!(d(e,SVGImageElement)&&!L(e.href.baseVal)))return;const a=s?e.src:e.href.baseVal,i=await $(a,T(a),t);await new Promise((n,l)=>{e.onload=n,e.onerror=t.onImageErrorHandler?(...o)=>{try{n(t.onImageErrorHandler(...o))}catch(m){l(m)}}:l;const c=e;c.decode&&(c.decode=n),c.loading==="lazy"&&(c.loading="eager"),s?(e.srcset="",e.src=i):e.href.baseVal=i})}async function st(e,t){const a=x(e.childNodes).map(i=>Q(i,t));await Promise.all(a).then(()=>e)}async function Q(e,t){d(e,Element)&&(await tt(e,t),await rt(e,t),await st(e,t))}function at(e,t){const{style:s}=e;t.backgroundColor&&(s.backgroundColor=t.backgroundColor),t.width&&(s.width=`${t.width}px`),t.height&&(s.height=`${t.height}px`);const a=t.style;return a!=null&&Object.keys(a).forEach(i=>{s[i]=a[i]}),e}const U={};async function H(e){let t=U[e];if(t!=null)return t;const a=await(await fetch(e)).text();return t={url:e,cssText:a},U[e]=t,t}async function V(e,t){let s=e.cssText;const a=/url\(["']?([^"')]+)["']?\)/g,n=(s.match(/url\([^)]+\)/g)||[]).map(async l=>{let c=l.replace(a,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),q(c,t.fetchRequestInit,({result:o})=>(s=s.replace(l,`url(${o})`),[l,o]))});return Promise.all(n).then(()=>s)}function M(e){if(e==null)return[];const t=[],s=/(\/\*[\s\S]*?\*\/)/gi;let a=e.replace(s,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const o=i.exec(a);if(o===null)break;t.push(o[0])}a=a.replace(i,"");const n=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(l,"gi");for(;;){let o=n.exec(a);if(o===null){if(o=c.exec(a),o===null)break;n.lastIndex=c.lastIndex}else c.lastIndex=n.lastIndex;t.push(o[0])}return t}async function nt(e,t){const s=[],a=[];return e.forEach(i=>{if("cssRules"in i)try{x(i.cssRules||[]).forEach((n,l)=>{if(n.type===CSSRule.IMPORT_RULE){let c=l+1;const o=n.href,m=H(o).then(h=>V(h,t)).then(h=>M(h).forEach(w=>{try{i.insertRule(w,w.startsWith("@import")?c+=1:i.cssRules.length)}catch(k){console.error("Error inserting rule from remote css",{rule:w,error:k})}})).catch(h=>{console.error("Error loading remote css",h.toString())});a.push(m)}})}catch(n){const l=e.find(c=>c.href==null)||document.styleSheets[0];i.href!=null&&a.push(H(i.href).then(c=>V(c,t)).then(c=>M(c).forEach(o=>{l.insertRule(o,l.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",n)}}),Promise.all(a).then(()=>(e.forEach(i=>{if("cssRules"in i)try{x(i.cssRules||[]).forEach(n=>{s.push(n)})}catch(n){console.error(`Error while reading CSS rules from ${i.href}`,n)}}),s))}function it(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>K(t.style.getPropertyValue("src")))}async function lt(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const s=x(e.ownerDocument.styleSheets),a=await nt(s,t);return it(a)}function Z(e){return e.trim().replace(/["']/g,"")}function ct(e){const t=new Set;function s(a){(a.style.fontFamily||getComputedStyle(a).fontFamily).split(",").forEach(n=>{t.add(Z(n))}),Array.from(a.children).forEach(n=>{n instanceof HTMLElement&&s(n)})}return s(e),t}async function ot(e,t){const s=await lt(e,t),a=ct(e);return(await Promise.all(s.filter(n=>a.has(Z(n.style.fontFamily))).map(n=>{const l=n.parentStyleSheet?n.parentStyleSheet.href:null;return J(n.cssText,l,t)}))).join(`
`)}async function dt(e,t){const s=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ot(e,t);if(s){const a=document.createElement("style"),i=document.createTextNode(s);a.appendChild(i),e.firstChild?e.insertBefore(a,e.firstChild):e.appendChild(a)}}async function ut(e,t={}){const{width:s,height:a}=W(e,t),i=await C(e,t,!0);return await dt(i,t),await Q(i,t),at(i,t),await Re(i,s,a)}async function mt(e,t={}){const{width:s,height:a}=W(e,t),i=await ut(e,t),n=await E(i),l=document.createElement("canvas"),c=l.getContext("2d"),o=t.pixelRatio||Ee(),m=t.canvasWidth||s,h=t.canvasHeight||a;return l.width=m*o,l.height=h*o,t.skipAutoScale||Ce(l),l.style.width=`${m}`,l.style.height=`${h}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,l.width,l.height)),c.drawImage(n,0,0,l.width,l.height),l}async function ht(e,t={}){return(await mt(e,t)).toDataURL()}const Y=se.forwardRef(({invoice:e,tenant:t,plan:s},a)=>{const n=`${window.location.hostname==="localhost"||window.location.hostname.includes("127.0.0.1")?"https://linkiu.bio":window.location.origin}/verificar/${e.id}`,l=o=>new Date(o).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}),c=o=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(o);return r.jsxs("div",{ref:a,className:"w-[400px] bg-white p-8 rounded-[20px] shadow-2xl relative overflow-hidden font-sans border border-slate-100",style:{minHeight:"600px"},children:[r.jsx("div",{className:"flex flex-col items-center text-center space-y-4 mb-8",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tighter uppercase text-slate-900 leading-none",children:"LINKIU.BIO"}),r.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400",children:"Comprobante de Pago"})]})}),r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"px-6 py-2 rounded-full bg-green-500/10 border border-green-500/20 text-green-600 flex items-center gap-2",children:[r.jsx(O,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Pago Aprobado"})]})}),r.jsxs("div",{className:"relative py-4 mb-4",children:[r.jsx("div",{className:"absolute left-[-40px] right-[-40px] border-t border-dashed border-slate-200"}),r.jsx("div",{className:"absolute left-[-50px] top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-slate-200 shadow-inner"}),r.jsx("div",{className:"absolute right-[-50px] top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-slate-200 shadow-inner"})]}),r.jsxs("div",{className:"space-y-6 relative z-10",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("span",{className:"text-[9px] font-bold uppercase text-slate-400 tracking-widest",children:"Factura"}),r.jsxs("p",{className:"text-sm font-bold text-slate-900",children:["#INV-",e.id]})]}),r.jsxs("div",{className:"space-y-1 text-right",children:[r.jsx("span",{className:"text-[9px] font-bold uppercase text-slate-400 tracking-widest",children:"Fecha"}),r.jsx("p",{className:"text-sm font-bold text-slate-900",children:l(e.paid_at||e.created_at)})]})]}),r.jsxs("div",{className:"space-y-1 border-t border-slate-100 pt-4",children:[r.jsx("span",{className:"text-[9px] font-bold uppercase text-slate-400 tracking-widest",children:"Cliente"}),r.jsx("p",{className:"text-sm font-bold text-slate-900",children:t.name}),r.jsxs("p",{className:"text-xs font-bold text-primary underline",children:["linkiu.bio/",t.slug]})]}),r.jsxs("div",{className:"space-y-1 border-t border-slate-100 pt-4",children:[r.jsx("span",{className:"text-[9px] font-bold uppercase text-slate-400 tracking-widest",children:"Concepto"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("p",{className:"text-sm font-bold text-slate-900 uppercase",children:["Plan ",s.name]}),r.jsx("p",{className:"text-sm font-bold text-slate-900",children:c(e.amount)})]}),r.jsxs("p",{className:"text-xs font-bold text-slate-400 pt-4",children:["Suscripci贸n activa hasta: ",l(e.subscription?.ends_at||t.latest_subscription?.ends_at||t.latestSubscription?.ends_at||e.subscription?.trial_ends_at||t.latest_subscription?.trial_ends_at||t.latestSubscription?.trial_ends_at||new Date().toISOString())]})]}),r.jsxs("div",{className:"relative py-4",children:[r.jsx("div",{className:"absolute left-[-40px] right-[-40px] border-t border-dashed border-slate-200"}),r.jsx("div",{className:"absolute left-[-50px] top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-slate-200 shadow-inner"}),r.jsx("div",{className:"absolute right-[-50px] top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-slate-200 shadow-inner"})]}),r.jsxs("div",{className:"space-y-4 text-center pt-2",children:[r.jsxs("div",{className:"flex flex-col items-center gap-1",children:[r.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.3em] text-slate-400",children:"Total Pagado"}),r.jsx("div",{className:"text-5xl font-bold text-primary tracking-tighter",children:c(e.amount)})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"p-1 bg-white rounded-lg border border-slate-900 shadow-sm",children:r.jsx(me,{value:n,size:56,level:"M",includeMargin:!1})}),r.jsxs("div",{className:"text-left py-1",children:[r.jsx("p",{className:"text-[8px] font-bold uppercase text-slate-400 leading-none",children:"Verificado por"}),r.jsx("p",{className:"text-[10px] font-bold text-slate-900 uppercase tracking-tighter",children:"Linkiu Pay Secure"})]})]})]})]}),r.jsxs("div",{className:"mt-8 text-center space-y-2 pb-2",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500",children:[r.jsx(he,{className:"w-4 h-4"}),r.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Transacci贸n Protegida"})]}),r.jsx("p",{className:"text-[8px] font-bold text-slate-300 uppercase leading-relaxed max-w-[200px] mx-auto italic",children:"Este documento es un comprobante v谩lido de suscripci贸n a los servicios de Linkiu.bio"})]}),r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-[60px] -z-0"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-primary/5 rounded-full blur-[60px] -z-0"})]})});Y.displayName="ReceiptTicket";function Lr({tenant:e,plan:t,invoice:s}){const a=s.status==="paid",{width:i,height:n}=de(),[l,c]=R.useState(a),o=R.useRef(null),{data:m,setData:h,post:w,processing:k,errors:ee}=ae({invoice_id:s.id,proof:null});R.useEffect(()=>{if(s.status==="pending_review"&&window.Echo){const f=`tenant-updates.${e.id}`;try{return window.Echo.channel(f).listen(".payment.status_updated",p=>{p.invoice_id===s.id&&p.status==="paid"&&(c(!0),j.success("隆Pago aprobado! Redirigiendo..."),ne.reload())}),()=>{try{window.Echo&&typeof window.Echo.leave=="function"&&window.Echo.leave(f)}catch(p){console.error("[Echo] Cleanup error:",p)}}}catch(p){console.error("[Echo] Failed to subscribe:",p)}}},[s.status,s.id,e.id]);const te=async()=>{if(o.current)try{const f=await ht(o.current,{quality:1,pixelRatio:2,skipFonts:!0,cacheBust:!0}),p=document.createElement("a");p.download=`Recibo_Linkiu_#${s.id}.png`,p.href=f,p.click(),j.success("Recibo descargado correctamente.")}catch(f){console.error("Failed to generate receipt:",f),j.error("Error al generar el recibo. Por favor, intenta de nuevo.")}},re=f=>{f.preventDefault(),w(y("tenant.invoices.store",{tenant:e.slug}),{onSuccess:()=>j.success("Comprobante enviado con 茅xito."),forceFormData:!0})};return r.jsxs(le,{title:a?"隆Pago Exitoso!":"Procesando tu Suscripci贸n",children:[r.jsx(ie,{title:a?"隆Felicidades! - Suscripci贸n Activa":"Carga tu Comprobante"}),r.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4",children:[r.jsx(F,{className:"rounded-[40px] border-none shadow-2xl overflow-hidden bg-white",children:r.jsxs("div",{className:"p-8 sm:p-12 text-center space-y-8 relative",children:[r.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-primary/5 rounded-full blur-3xl -z-10"}),a?r.jsx(pt,{tenant:e,plan:t,invoice:s,onDownload:te}):s.status==="pending"?r.jsx(ft,{data:m,setData:h,handleUpload:re,processing:k,plan:t,invoice:s,errors:ee}):r.jsx(xt,{plan:t,tenant:e})]})}),r.jsx("p",{className:"mt-8 text-center text-xs font-bold text-slate-400 uppercase tracking-widest",children:a?"Un resumen de tu transacci贸n ha sido enviado a tu correo electr贸nico.":"Tu acceso Pro se activar谩 en cuanto el equipo verifique tu transacci贸n."})]}),r.jsx("div",{className:"fixed left-[-9999px] top-0",children:r.jsx(Y,{ref:o,invoice:s,tenant:e,plan:t})}),l&&r.jsx(ue,{width:i,height:n,recycle:!1,numberOfPieces:500,gravity:.15,colors:["#8B5CF6","#A78BFA","#C4B5FD","#DDD6FE","#000000"]})]})}function pt({tenant:e,plan:t,invoice:s,onDownload:a}){return r.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-500",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-24 h-24 rounded-full bg-green-500/10 flex items-center justify-center text-green-500",children:r.jsx(O,{className:"w-16 h-16"})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-2xl font-black text-slate-900 tracking-tight uppercase leading-none",children:["隆Bienvenido al ",r.jsx("span",{className:"text-primary",children:t.name}),"!"]}),r.jsx("p",{className:"text-slate-500 font-bold text-md max-w-md mx-auto leading-relaxed",children:"Tu pago ha sido procesado correctamente. Tu marca acaba de subir de nivel. "})]}),r.jsxs("div",{className:"p-6 rounded-3xl bg-slate-50 border border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4 text-left",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white shadow-sm flex items-center justify-center text-primary",children:r.jsx(pe,{className:"w-6 h-6"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:"Tu Nueva URL"}),r.jsxs("span",{className:"text-sm font-black text-slate-900 underline decoration-primary decoration-2 underline-offset-4",children:["linkiu.bio/",e.slug]})]})]}),r.jsxs(S,{className:"font-black text-[10px] uppercase tracking-widest gap-2",onClick:a,children:[r.jsx(fe,{className:"w-4 h-4"}),"Recibo #",s.id]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(v,{href:y("tenant.dashboard",{tenant:e.slug}),className:"block group",children:r.jsxs(F,{className:"p-6 rounded-3xl border-2 border-slate-50 group-hover:border-primary transition-all group-hover:bg-primary/5 text-left h-full",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white shadow-sm flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform",children:r.jsx(xe,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-black uppercase text-sm mb-1",children:"Ir al Dashboard"}),r.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:"Gestiona tu tienda ahora"})]})}),r.jsx(v,{href:y("tenant.profile.edit",{tenant:e.slug}),className:"block group",children:r.jsxs(F,{className:"p-6 rounded-3xl border-2 border-slate-50 group-hover:border-primary transition-all group-hover:bg-primary/5 text-left h-full",children:[r.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white shadow-sm flex items-center justify-center text-amber-500 mb-4 group-hover:scale-110 transition-transform",children:r.jsx(ge,{className:"w-5 h-5"})}),r.jsx("h4",{className:"font-black uppercase text-sm mb-1",children:"Crea tu Primer Link"}),r.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:"Empieza a compartir tu marca"})]})})]}),r.jsx("div",{className:"pt-4",children:r.jsx(S,{asChild:!0,className:"w-full h-14 rounded-2xl bg-slate-900 hover:bg-slate-800 text-white font-black text-lg uppercase tracking-widest gap-3 shadow-xl",children:r.jsxs(v,{href:y("tenant.dashboard",{tenant:e.slug}),children:["隆Comenzar Ahora!",r.jsx(z,{className:"w-6 h-6 animate-bounce"})]})})})]})}function ft({data:e,setData:t,handleUpload:s,processing:a,plan:i,invoice:n,errors:l}){return r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:r.jsx(D,{className:"w-10 h-10"})})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(ce,{className:"bg-slate-900 text-white font-black px-4 py-1.5 rounded-full text-[10px] uppercase tracking-widest",children:"Paso Final: Confirmar Pago"}),r.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight uppercase",children:"Sube tu Comprobante"}),r.jsxs("p",{className:"text-slate-500 font-bold text-sm max-w-md mx-auto leading-relaxed",children:["Has seleccionado el plan **",i.name,"**. Sube una foto o PDF de tu transferencia para que podamos activarlo."]})]}),r.jsxs("form",{onSubmit:s,className:"space-y-6",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("input",{type:"file",onChange:c=>t("proof",c.target.files?.[0]||null),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",accept:"image/*,application/pdf"}),r.jsx("div",{className:oe("p-10 rounded-[32px] border-4 border-dashed transition-all flex flex-col items-center gap-4 bg-slate-50",e.proof?"border-primary bg-primary/5":"border-slate-100 group-hover:border-slate-200"),children:e.proof?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary text-white flex items-center justify-center shadow-lg animate-in zoom-in",children:r.jsx(be,{className:"w-8 h-8"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"block font-black text-slate-900 uppercase text-xs truncate max-w-[200px]",children:e.proof.name}),r.jsx("span",{className:"text-[10px] font-bold text-primary uppercase",children:"Archivo listo para enviar"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white shadow-sm flex items-center justify-center text-slate-400 group-hover:scale-110 transition-transform",children:r.jsx(D,{className:"w-8 h-8"})}),r.jsxs("div",{className:"text-center space-y-1",children:[r.jsx("p",{className:"font-black text-slate-900 uppercase text-xs italic tracking-tight",children:"Seleccionar archivo"}),r.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:"PNG, JPG o PDF (m谩x. 4MB)"})]})]})})]}),l.proof&&r.jsx("p",{className:"text-xs font-bold text-destructive",children:l.proof}),r.jsxs(S,{type:"submit",disabled:a||!e.proof,className:"w-full h-16 rounded-[24px] bg-primary hover:bg-primary/90 text-white font-black text-xl uppercase tracking-widest shadow-xl shadow-primary/20",children:[a?"Enviando...":"Notificar al Sistema",r.jsx(z,{className:"w-6 h-6 ml-3"})]})]})]})}function xt({plan:e,tenant:t}){return r.jsxs("div",{className:"py-12 space-y-8 animate-in zoom-in duration-500",children:[r.jsxs("div",{className:"flex justify-center relative",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-amber-500/10 flex items-center justify-center text-amber-600 relative z-10",children:r.jsx(we,{className:"w-12 h-12 animate-pulse"})}),r.jsx("div",{className:"absolute inset-0 w-24 h-24 mx-auto rounded-full border-4 border-amber-500 border-t-transparent animate-spin opacity-20"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight uppercase leading-none",children:"Verificando tu Pago"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("p",{className:"text-slate-500 font-medium text-lg max-w-md mx-auto",children:'"Estamos procesando tu pago... por favor espera un momento mientras validamos los datos."'}),r.jsxs("div",{className:"max-w-xs mx-auto p-4 rounded-2xl border-2 border-slate-100 bg-slate-50 flex justify-center items-center gap-4",children:[r.jsx(ye,{className:"w-5 h-5 text-primary animate-spin"}),r.jsx("span",{className:"text-[11px] font-black uppercase text-slate-400 tracking-widest",children:"Estado: En Revisi贸n Manual"})]}),r.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[r.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Mientras tanto puedes:"}),r.jsx(S,{asChild:!0,className:"h-10 rounded-xl px-8 font-black uppercase text-xs tracking-widest border-2",children:r.jsx(v,{href:y("tenant.dashboard",{tenant:e.tenant_slug||t.slug}),children:"Volver al Dashboard"})})]})]})]})]})}export{Lr as default};
