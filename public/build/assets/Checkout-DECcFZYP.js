import{R as f,u as S,j as e,H as D}from"./app-DC0VdX9s.js";import{A as F}from"./AdminLayout-Dzjitp-M.js";import{C as w}from"./card-Ctcbb2M4.js";import{B as u}from"./button-CwaftRC9.js";import{c as l}from"./utils-DBZkxVr1.js";import{s as T}from"./index-BsxvijQw.js";import{D as z,a as B,b as R,c as A}from"./dialog-BgrajDqf.js";import{C as v}from"./credit-card-Br8ESLwS.js";import{C as I}from"./calendar-BN8FUoZ8.js";import{G as L}from"./globe-CLalq3Qa.js";import{C as m}from"./circle-check-C5cvU04D.js";import{A as M}from"./arrow-right-B0y8LtjW.js";import{S as y}from"./shield-check-Dr5pX9Mj.js";import{B as k}from"./banknote-oh6wB0_E.js";import{I as G}from"./info-Brl9O_JZ.js";import{F as O}from"./file-text-Bmfi9ci5.js";import{C as E}from"./cloud-upload-pnNICHzM.js";import"./badge-DFjV9KOO.js";import"./progress-CWUpZELJ.js";import"./index-DFaq0Ini.js";import"./index-BmeUzyeu.js";import"./dropdown-menu-DQ3ZhwFW.js";import"./createLucideIcon-DJ4NDwYV.js";import"./chevron-right-PTgBRbQi.js";import"./index-0coVNd7N.js";import"./index-CzsG3l2v.js";import"./index-DnYW8pH5.js";import"./index-D2N1-uIE.js";import"./trash-2-BoAeUuPT.js";import"./check-CDE1QUCE.js";import"./shopping-bag-C6Zaioqk.js";import"./input-DycfGEDM.js";import"./separator-BvfwgiHl.js";import"./sheet-DMF7JpR0.js";import"./x-B_AiqYVR.js";import"./index-CfjIlq6E.js";import"./index-DdpLosxE.js";import"./index-B8PFW4lY.js";import"./index-BfEwHv9F.js";import"./index-CSYYB_ev.js";import"./index-rHpqUtkR.js";import"./menuConfig-CKxoUB1h.js";import"./video-MJZj3Bpt.js";import"./chef-hat-BD-YlOcT.js";import"./table-CXHlPgh7.js";import"./user-CvUPnKZS.js";import"./map-pin-N8LTMDOp.js";import"./star-Ccup-E-P.js";import"./users-Cgy2ffiO.js";import"./calendar-check-D7EtMSGq.js";import"./briefcase-D8fTsXA3.js";import"./truck-88x5atPF.js";import"./message-circle-dn3KuYwe.js";import"./package-BYrkzaAT.js";import"./layout-dashboard-CvWgsk9y.js";import"./badge-check-BS0cRFCH.js";import"./lock-DkNijD7J.js";import"./sparkles-DvAZDr9v.js";import"./external-link-B-C3sQPA.js";import"./chevron-down-DoRy1-En.js";import"./headphones-FLe6YHx9.js";import"./shield-BUqaht8L.js";import"./sonner-CJs5tr0z.js";function Ye({tenant:C,plan:t,billing_cycle:x,amount:b,proration_credit:i,reserved_slug:p,bank_details:a}){const[s,j]=f.useState("wompi"),[N,c]=f.useState(!1),{data:n,setData:o,post:P,processing:r}=S({plan_id:t.id,billing_cycle:x,payment_method:s,slug:p,proof:null});f.useEffect(()=>{o("payment_method",s)},[s]);const d=h=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(h),g=()=>{if(s==="transfer"&&!N){c(!0);return}P(T("tenant.subscription.process-payment",{tenant:C.slug}),{forceFormData:!0,onFinish:()=>c(!1)})};return e.jsxs(F,{title:"Finalizar Suscripción",children:[e.jsx(D,{title:"Checkout - Suscripción"}),e.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:e.jsx(v,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-2xl font-black tracking-tight uppercase",children:"Resumen de tu Orden"})]}),e.jsx(w,{className:"p-8 rounded-[32px] border-none shadow-xl shadow-slate-200/50 overflow-hidden relative bg-white",children:e.jsxs("div",{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-slate-50 pb-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Plan Seleccionado"}),e.jsx("h3",{className:"text-2xl font-black uppercase text-slate-900",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[e.jsx(I,{className:"w-3.5 h-3.5"}),"Ciclo ",x==="monthly"?"Mensual":"Anual"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-2xl font-black text-slate-900",children:d(x==="monthly"?t.monthly_price:t.yearly_price)})})]}),p&&e.jsxs("div",{className:"flex items-center justify-between py-4 px-5 rounded-2xl bg-amber-50 border border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-amber-600"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-amber-700 tracking-tighter",children:"Tu URL Personalizada"}),e.jsxs("span",{className:"text-sm font-bold text-amber-900",children:["linkiu.bio/",p]})]})]}),e.jsx(m,{className:"w-5 h-5 text-amber-500"})]}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-500",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:d(b+(i||0))})]}),i&&i>0&&e.jsxs("div",{className:"flex justify-between text-sm font-bold text-green-600",children:[e.jsx("span",{children:"Crédito por plan anterior (Prorrateo)"}),e.jsxs("span",{children:["-",d(i)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t-2 border-slate-900 border-dashed",children:[e.jsx("span",{className:"text-lg font-black uppercase",children:"Total a Pagar"}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-3xl font-black text-primary",children:d(b)}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"IVA Incluido"})]})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u,{onClick:g,disabled:r,className:"w-full h-16 rounded-[24px] bg-primary hover:bg-primary/90 text-white font-black text-xl uppercase tracking-widest shadow-xl shadow-primary/20 group",children:[r?"Procesando...":s==="wompi"?"Pagar con Wompi":"Confirmar Transferencia",e.jsx(M,{className:"w-6 h-6 ml-3 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 px-6 rounded-2xl bg-slate-50 border border-slate-100 text-slate-500",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Transacción 100% Segura con encriptación SSL"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsx("h2",{className:"text-xl font-black tracking-tight uppercase",children:"Métodos de Pago"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{j("wompi"),o("payment_method","wompi")},className:l("w-full p-4 bg-white rounded-[24px] border-2 text-left transition-all relative group overflow-hidden",s==="wompi"?"border-primary shadow-lg shadow-primary/5":"border-slate-100 hover:border-slate-200"),children:[e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:l("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",s==="wompi"?"bg-primary text-white":"bg-slate-100 text-slate-400"),children:e.jsx(v,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 uppercase tracking-tight text-sm",children:"Wompi"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tarjetas, PSE, Nequi"})]})]}),s==="wompi"&&e.jsx("div",{className:"absolute top-4 right-4 animate-in zoom-in duration-300",children:e.jsx(m,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("button",{onClick:()=>{j("transfer"),o("payment_method","transfer")},className:l("w-full p-4 bg-white rounded-[24px] border-2 text-left transition-all relative group overflow-hidden",s==="transfer"?"border-primary shadow-lg shadow-primary/5":"border-slate-100 hover:border-slate-200"),children:[e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:l("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",s==="transfer"?"bg-primary text-white":"bg-slate-100 text-slate-400"),children:e.jsx(k,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 uppercase tracking-tight text-sm",children:"Transferencia"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Directa a Banco"})]})]}),s==="transfer"&&e.jsx("div",{className:"absolute top-4 right-4 animate-in zoom-in duration-300",children:e.jsx(m,{className:"w-5 h-5 text-primary"})})]})]}),s==="transfer"&&a?e.jsxs(w,{className:"p-4 bg-white rounded-[24px] border text-slate-900 space-y-4 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-primary",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-lg font-black",children:"Datos de Pago"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase",children:"Transferencia Directa"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Banco"}),e.jsx("span",{className:"text-sm font-black",children:a.bank_name})]}),e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Tipo de Cuenta"}),e.jsx("span",{className:"text-sm font-black",children:a.account_type})]}),e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2 relative group",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Número de Cuenta"}),e.jsx("span",{className:"text-sm font-black",children:a.account_number})]}),e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Titular"}),e.jsx("span",{className:"text-sm font-black",children:a.account_holder})]}),e.jsxs("div",{className:"flex flex-col gap-1 pb-1",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"NIT / Documento"}),e.jsx("span",{className:"text-sm font-black",children:a.nit})]})]}),e.jsx("div",{className:"rounded-2xl bg-white/5 border border-white/10 flex items-start gap-4",children:e.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Reporta tu pago en la sección de facturas o vía soporte para activación inmediata."})})]}):e.jsxs("div",{className:"p-8 rounded-[32px] bg-white border border-slate-100 text-slate-900 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-black uppercase leading-tight",children:"¿Listo para activar tu marca?"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:"Serás redirigido a la pasarela segura de **Wompi** para finalizar tu pago inmediatamente."})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center text-[10px] font-black text-slate-500 uppercase tracking-widest border-t border-white/10 pt-4",children:[e.jsx(G,{className:"w-3 h-3 text-primary"}),"Pago seguro encriptado"]})]})]})]})}),e.jsx(z,{open:N,onOpenChange:c,children:e.jsxs(B,{className:"max-w-md rounded-lg p-0 overflow-hidden border-none shadow-2xl",children:[e.jsx(R,{className:"pt-8 pb-0",children:e.jsx(A,{className:"text-2xl font-black text-center",children:"Confirmar Transferencia"})}),e.jsxs("div",{className:"px-8 space-y-6",children:[e.jsxs("div",{className:"space-y-4 pt-0",children:[e.jsxs("p",{className:"text-xs font-medium text-slate-600",children:['"Sube una captura de pantalla o el PDF de tu transferencia para activar tu plan **',t.name,'**."']}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"file",onChange:h=>o("proof",h.target.files?.[0]||null),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",accept:"image/*,application/pdf"}),e.jsx("div",{className:l("p-10 rounded-[28px] border-2 border-dashed transition-all flex flex-col items-center gap-4 bg-slate-50 text-center",n.proof?"border-primary bg-primary/5":"border-slate-100 group-hover:border-slate-200"),children:n.proof?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary text-white flex items-center justify-center shadow-lg animate-in zoom-in",children:e.jsx(O,{className:"w-8 h-8"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"block font-black text-slate-900 uppercase text-xs truncate max-w-[200px]",children:n.proof.name}),e.jsx("span",{className:"text-[10px] font-bold text-primary uppercase",children:"¡Comprobante Listo!"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white shadow-sm flex items-center justify-center text-slate-400 group-hover:scale-110 transition-transform",children:e.jsx(E,{className:"w-8 h-8"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-black text-slate-900 uppercase text-xs tracking-tight",children:"Seleccionar Comprobante"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:"PNG, JPG o PDF hasta 4MB"})]})]})})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(u,{onClick:g,disabled:r||!n.proof,className:"w-full h-10 hover:bg-primary/90 text-white font-black text-sm uppercase shadow-xl shadow-primary/20 group",children:[r?"Procesando...":"Finalizar y Notificar",e.jsx(m,{className:"w-5 h-5 ml-2 group-hover:scale-110 transition-transform"})]}),e.jsx(u,{variant:"destructive",onClick:()=>c(!1),disabled:r,className:"w-full h-10 font-bold uppercase text-[10px] tracking-widest",children:"Cancelar"})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 flex items-center justify-center gap-2 border-t border-slate-100",children:[e.jsx(y,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 tracking-widest",children:"Pago Protegido con Linkiu Pay"})]})]})})]})}export{Ye as default};
