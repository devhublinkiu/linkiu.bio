import{c as y,r as h,j as e,H as k,L as C}from"./app-DvpAkplk.js";import{A as T}from"./AdminLayout-hY3b0G1y.js";import{C as o,a as n,b as c,c as f,d as l}from"./card-CnT0l_PA.js";import{T as B,a as _,b as d,c as i,d as P,e as r}from"./table-U0RLv7Tr.js";import{B as a}from"./badge-IfxeRtOE.js";import{B as j}from"./button-DOQ0axlO.js";import{P as S}from"./PaymentUploadModal-Sa_9AVz9.js";import{B as H}from"./banknote-CNQnpK3Q.js";import{C as E}from"./credit-card-fEKVAskI.js";import{E as U}from"./eye-ByEEqtKl.js";import{U as A}from"./upload-BDmceyjj.js";import{C as g}from"./circle-alert-Dy8ljs1n.js";import{C as F}from"./clock-Bnc5-qYl.js";import{C as I}from"./circle-check-big-CvTmqFaj.js";import{f as L}from"./format-Du31obhd.js";import{e as M}from"./es-BteQoBuv.js";import"./utils-Bt66apXy.js";import"./progress-BHe2VIPc.js";import"./index-CVnMJ0kl.js";import"./index-CnuaM2Cu.js";import"./dropdown-menu-ubFSrLA8.js";import"./createLucideIcon-BAweqaF3.js";import"./chevron-right-wq5EBuGT.js";import"./index-Bw9aTihY.js";import"./index-D8KCWmzE.js";import"./index-DxV-pwI8.js";import"./index-DvNjLHaW.js";import"./circle-check-DihymiLa.js";import"./trash-2-Cl32KA5j.js";import"./check-BnQaAa8B.js";import"./shopping-bag-DhB74yIJ.js";import"./dialog-Cjxgu9dZ.js";import"./x-C_qF6Mva.js";import"./input-Bv-dfyAA.js";import"./separator-BG2VS_Fl.js";import"./sheet-DsGG5XCT.js";import"./index-2KDpKUG2.js";import"./index-DAaNBk-s.js";import"./index-DGLOWnr1.js";import"./index-ahKcmWZ5.js";import"./index-Dcod572x.js";import"./index-CD1tTlGF.js";import"./menuConfig-CS7C2xYF.js";import"./video-Diu1usog.js";import"./chef-hat-4WRp0NMl.js";import"./table-9Iw8O0xw.js";import"./user-CXZ9uqcX.js";import"./map-pin-BY9e0G3n.js";import"./star-Cq7jFrzE.js";import"./users-BDTVDblz.js";import"./calendar-check-rPKpguYk.js";import"./calendar-mikciA0V.js";import"./briefcase-5b91nXrO.js";import"./truck-SA0a2FWD.js";import"./message-circle-4blwuSBk.js";import"./package-D7hy5e4b.js";import"./layout-dashboard-Cf5aFky8.js";import"./badge-check-BhvL5u0B.js";import"./lock-DHVVRGwf.js";import"./sparkles-DyQnos2U.js";import"./external-link-DZTE9j3y.js";import"./chevron-down-tlhr8VnY.js";import"./headphones-Bg1cPLTV.js";import"./shield-BW7u8GoI.js";import"./sonner-DgVci-2A.js";import"./file-text-XzXSJuii.js";import"./loader-circle-BM3yzWLg.js";function Ze({invoices:m,bankDetails:t}){const{auth:R,currentTenant:N}=y().props,[p,x]=h.useState(null),[b,u]=h.useState(!1),v=s=>{x(s),u(!0)},w=s=>{switch(s){case"paid":return e.jsxs(a,{className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:[e.jsx(I,{className:"w-3 h-3 mr-1"})," Pagado"]});case"pending_review":return e.jsxs(a,{variant:"secondary",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:[e.jsx(F,{className:"w-3 h-3 mr-1"})," En Revisión"]});case"pending":return e.jsxs(a,{variant:"outline",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0 text-amber-600 border-amber-200",children:[e.jsx(g,{className:"w-3 h-3 mr-1"})," Pendiente"]});case"overdue":return e.jsxs(a,{variant:"destructive",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:[e.jsx(g,{className:"w-3 h-3 mr-1"})," Vencida"]});default:return e.jsx(a,{variant:"secondary",className:"cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:s})}};return e.jsxs(T,{children:[e.jsx(k,{title:"Facturación"}),e.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black tracking-tight",children:"Facturación"}),e.jsx("p",{className:"text-muted-foreground font-medium mt-1 uppercase text-xs tracking-widest",children:"Historial de pagos y suscripción"})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(o,{className:"md:col-span-1 shadow-sm",children:[e.jsxs(n,{className:"pb-4",children:[e.jsxs(c,{className:"flex items-center gap-2 text-lg font-bold",children:[e.jsx(H,{className:"w-5 h-5 text-primary"}),"Datos Bancarios"]}),e.jsx(f,{className:"font-medium",children:"Realiza tu pago vía transferencia."})]}),e.jsx(l,{className:"space-y-4",children:t?e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"Banco"}),e.jsx("span",{className:"font-bold",children:t.bank_name})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"Tipo"}),e.jsx("span",{className:"font-bold",children:t.bank_account_type})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"Número"}),e.jsx("span",{className:"font-bold",children:t.bank_account_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground font-bold uppercase text-[10px] tracking-widest",children:"NIT"}),e.jsx("span",{className:"font-bold",children:t.bank_account_nit})]})]}):e.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm italic font-medium",children:"No hay datos bancarios configurados."})})]}),e.jsxs(o,{className:"md:col-span-2 bg-primary text-primary-foreground shadow-xl border-none relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:scale-110 transition-transform duration-500",children:e.jsx(E,{className:"w-32 h-32"})}),e.jsx(n,{children:e.jsx(c,{className:"opacity-70 uppercase text-[10px] tracking-widest font-black",children:"Tu Suscripción"})}),e.jsxs(l,{className:"pb-8",children:[e.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[e.jsx("div",{className:"text-5xl font-black tracking-tighter",children:"Activa"}),e.jsx(a,{variant:"secondary",className:"mb-2 ring-0 hover:ring-0 focus:ring-0",children:"Premium"})]}),e.jsx("p",{className:"opacity-70 text-sm max-w-md font-medium",children:"Tu servicio está funcionando correctamente. Puedes ver tus comprobantes reportados en la tabla inferior o reportar uno nuevo."})]})]})]}),e.jsxs(o,{className:"shadow-sm",children:[e.jsx(n,{className:"flex flex-row items-center justify-between border-b pb-6 mb-2",children:e.jsxs("div",{children:[e.jsx(c,{className:"font-black text-xl",children:"Historial de Facturas"}),e.jsx(f,{className:"font-medium",children:"Listado detallado de tus cobros y pagos."})]})}),e.jsx(l,{className:"p-0",children:e.jsxs(B,{children:[e.jsx(_,{children:e.jsxs(d,{className:"hover:bg-transparent",children:[e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground pl-6",children:"Fecha"}),e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground",children:"Concepto"}),e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground",children:"Valor"}),e.jsx(i,{className:"font-bold text-[10px] uppercase tracking-widest text-muted-foreground",children:"Estado"}),e.jsx(i,{className:"text-right font-bold text-[10px] uppercase tracking-widest text-muted-foreground pr-6",children:"Acciones"})]})}),e.jsx(P,{children:m.length>0?m.map(s=>e.jsxs(d,{children:[e.jsx(r,{className:"pl-6 font-bold",children:L(new Date(s.created_at),"dd MMM, yyyy",{locale:M})}),e.jsx(r,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-bold",children:["Plan ",s.subscription?.plan?.name||"Suscripción"]}),e.jsxs("span",{className:"text-[10px] uppercase font-black text-muted-foreground tracking-tighter",children:["Factura #",s.id]})]})}),e.jsxs(r,{className:"font-black",children:["$",Number(s.amount).toLocaleString()]}),e.jsx(r,{children:w(s.status)}),e.jsx(r,{className:"text-right pr-6",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 cursor-pointer ring-0 hover:ring-0 focus:ring-0",children:e.jsxs(C,{href:route("tenant.invoices.show",{tenant:N?.slug,invoice:s.id}),children:[e.jsx(U,{className:"w-4 h-4 mr-1"})," Ver Detalle"]})}),s.status==="pending"&&e.jsxs(j,{size:"sm",className:"h-8 shadow-sm cursor-pointer ring-0 hover:ring-0 focus:ring-0",onClick:()=>v(s),children:[e.jsx(A,{className:"w-4 h-4 mr-1"})," Subir Pago"]})]})})]},s.id)):e.jsx(d,{children:e.jsx(r,{colSpan:5,className:"text-center py-12 text-slate-400 font-medium italic",children:"No tienes facturas generadas aún."})})})]})})]})]}),p&&e.jsx(S,{isOpen:b,onClose:()=>{u(!1),x(null)},invoice:p})]})}export{Ze as default};
