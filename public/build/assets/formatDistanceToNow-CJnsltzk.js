import{c as O}from"./constructNow-ChcPjMH_.js";import{t as h,n as I,d as y,a as S,f as X,h as D,g as T}from"./es-BteQoBuv.js";import{d as b}from"./differenceInCalendarMonths-B3kfrhWB.js";import{e as w}from"./endOfMonth-DL9zlqV0.js";function M(e,s){const r=+h(e)-+h(s);return r<0?-1:r>0?1:r}function _(e){return s=>{const a=(e?Math[e]:Math.trunc)(s);return a===0?0:a}}function p(e,s){return+h(e)-+h(s)}function N(e,s){const r=h(e,s?.in);return r.setHours(23,59,59,999),r}function Y(e,s){const r=h(e,s?.in);return+N(r,s)==+w(r,s)}function v(e,s,r){const[a,t,c]=I(r?.in,e,e,s),f=M(t,c),n=Math.abs(b(t,c));if(n<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-f*n);let u=M(t,c)===-f;Y(a)&&n===1&&M(a,c)===1&&(u=!1);const l=f*(n-+u);return l===0?0:l}function z(e,s,r){const a=p(e,s)/1e3;return _(r?.roundingMethod)(a)}function A(e,s,r){const a=T(),t=r?.locale??a.locale??y,c=2520,f=M(e,s);if(isNaN(f))throw new RangeError("Invalid time value");const n=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:f}),[u,l]=I(r?.in,...f>0?[s,e]:[e,s]),m=z(l,u),x=(S(l)-S(u))/1e3,o=Math.round((m-x)/60);let d;if(o<2)return r?.includeSeconds?m<5?t.formatDistance("lessThanXSeconds",5,n):m<10?t.formatDistance("lessThanXSeconds",10,n):m<20?t.formatDistance("lessThanXSeconds",20,n):m<40?t.formatDistance("halfAMinute",0,n):m<60?t.formatDistance("lessThanXMinutes",1,n):t.formatDistance("xMinutes",1,n):o===0?t.formatDistance("lessThanXMinutes",1,n):t.formatDistance("xMinutes",o,n);if(o<45)return t.formatDistance("xMinutes",o,n);if(o<90)return t.formatDistance("aboutXHours",1,n);if(o<X){const i=Math.round(o/60);return t.formatDistance("aboutXHours",i,n)}else{if(o<c)return t.formatDistance("xDays",1,n);if(o<D){const i=Math.round(o/X);return t.formatDistance("xDays",i,n)}else if(o<D*2)return d=Math.round(o/D),t.formatDistance("aboutXMonths",d,n)}if(d=v(l,u),d<12){const i=Math.round(o/D);return t.formatDistance("xMonths",i,n)}else{const i=d%12,g=Math.trunc(d/12);return i<3?t.formatDistance("aboutXYears",g,n):i<9?t.formatDistance("overXYears",g,n):t.formatDistance("almostXYears",g+1,n)}}function k(e,s){return A(e,O(e),s)}export{k as f};
