import{R as f,u as S,j as e,H as D}from"./app-CzmtjlCW.js";import{A as F}from"./AdminLayout-8eumfWMV.js";import{C as w}from"./card-Cio2ZpWt.js";import{B as u}from"./button-DHDYV-Vu.js";import{c as l}from"./utils-BH2tHD_A.js";import{s as T}from"./index-BsxvijQw.js";import{D as z,a as B,b as R,c as A}from"./dialog-CDtZpi6V.js";import{C as v}from"./credit-card-o3EdvoAE.js";import{C as I}from"./calendar-CLz13BXv.js";import{G as L}from"./globe-BMbKsIas.js";import{C as m}from"./circle-check-DxCp2NCp.js";import{A as M}from"./arrow-right-B-ZkIkW9.js";import{S as y}from"./shield-check-D5cBpLFJ.js";import{B as k}from"./banknote-B4QtVHv_.js";import{I as G}from"./info-CWXlEnpd.js";import{F as O}from"./file-text-BzVe6ATA.js";import{C as E}from"./cloud-upload-DC3p2nY9.js";import"./badge-C86koyY8.js";import"./progress-thUTkzo2.js";import"./index-CoSHAo9V.js";import"./index-B7u58P25.js";import"./dropdown-menu-CkPxOfJq.js";import"./createLucideIcon-CaH5oZCX.js";import"./chevron-right-CP3Al_6X.js";import"./index-DLCIQy2W.js";import"./index-Bik950zP.js";import"./index-tuvqS7go.js";import"./index-D4uLenfM.js";import"./trash-2-D8FHOsLd.js";import"./check-CDpry8EA.js";import"./shopping-bag-BzAvYKks.js";import"./input-CkrKzdip.js";import"./separator-C7VYnuGU.js";import"./sheet-BCCP-sjc.js";import"./x-B2qOMX6F.js";import"./index-0rkHg0Ic.js";import"./index-i2FoVhyH.js";import"./index-DewdYm7G.js";import"./index-Bdv8as05.js";import"./index-BKdn1L7U.js";import"./index-BPIYxXZn.js";import"./menuConfig-CPl-cWmx.js";import"./video-C_obWpYx.js";import"./chef-hat-DMkmJSds.js";import"./table-BzVM_9Rr.js";import"./user-D2yrztw3.js";import"./map-pin-BE5u9cGW.js";import"./star-BWFeNTek.js";import"./users-CiV-Fhl_.js";import"./calendar-check-BhZMHGo-.js";import"./briefcase-BgyLfkCE.js";import"./truck-BuohTmzx.js";import"./message-circle-BMB1KwoB.js";import"./package-A6FRi7Sy.js";import"./layout-dashboard-C295RkTP.js";import"./badge-check-bj2LNrR7.js";import"./lock-nV4mWcAC.js";import"./sparkles-p-mrIi5N.js";import"./external-link-Ckra4gVk.js";import"./chevron-down-DmTOaxVY.js";import"./headphones-CE-eXCS3.js";import"./shield-1cQx-8mE.js";import"./sonner-CR6Tr01l.js";function Ye({tenant:C,plan:t,billing_cycle:x,amount:b,proration_credit:i,reserved_slug:p,bank_details:a}){const[s,j]=f.useState("wompi"),[N,c]=f.useState(!1),{data:n,setData:o,post:P,processing:r}=S({plan_id:t.id,billing_cycle:x,payment_method:s,slug:p,proof:null});f.useEffect(()=>{o("payment_method",s)},[s]);const d=h=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(h),g=()=>{if(s==="transfer"&&!N){c(!0);return}P(T("tenant.subscription.process-payment",{tenant:C.slug}),{forceFormData:!0,onFinish:()=>c(!1)})};return e.jsxs(F,{title:"Finalizar Suscripción",children:[e.jsx(D,{title:"Checkout - Suscripción"}),e.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:e.jsx(v,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-2xl font-black tracking-tight uppercase",children:"Resumen de tu Orden"})]}),e.jsx(w,{className:"p-8 rounded-[32px] border-none shadow-xl shadow-slate-200/50 overflow-hidden relative bg-white",children:e.jsxs("div",{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start border-b border-slate-50 pb-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-primary",children:"Plan Seleccionado"}),e.jsx("h3",{className:"text-2xl font-black uppercase text-slate-900",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[e.jsx(I,{className:"w-3.5 h-3.5"}),"Ciclo ",x==="monthly"?"Mensual":"Anual"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-2xl font-black text-slate-900",children:d(x==="monthly"?t.monthly_price:t.yearly_price)})})]}),p&&e.jsxs("div",{className:"flex items-center justify-between py-4 px-5 rounded-2xl bg-amber-50 border border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-amber-600"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-amber-700 tracking-tighter",children:"Tu URL Personalizada"}),e.jsxs("span",{className:"text-sm font-bold text-amber-900",children:["linkiu.bio/",p]})]})]}),e.jsx(m,{className:"w-5 h-5 text-amber-500"})]}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-500",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:d(b+(i||0))})]}),i&&i>0&&e.jsxs("div",{className:"flex justify-between text-sm font-bold text-green-600",children:[e.jsx("span",{children:"Crédito por plan anterior (Prorrateo)"}),e.jsxs("span",{children:["-",d(i)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t-2 border-slate-900 border-dashed",children:[e.jsx("span",{className:"text-lg font-black uppercase",children:"Total a Pagar"}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-3xl font-black text-primary",children:d(b)}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"IVA Incluido"})]})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u,{onClick:g,disabled:r,className:"w-full h-16 rounded-[24px] bg-primary hover:bg-primary/90 text-white font-black text-xl uppercase tracking-widest shadow-xl shadow-primary/20 group",children:[r?"Procesando...":s==="wompi"?"Pagar con Wompi":"Confirmar Transferencia",e.jsx(M,{className:"w-6 h-6 ml-3 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 px-6 rounded-2xl bg-slate-50 border border-slate-100 text-slate-500",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Transacción 100% Segura con encriptación SSL"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsx("h2",{className:"text-xl font-black tracking-tight uppercase",children:"Métodos de Pago"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{j("wompi"),o("payment_method","wompi")},className:l("w-full p-4 bg-white rounded-[24px] border-2 text-left transition-all relative group overflow-hidden",s==="wompi"?"border-primary shadow-lg shadow-primary/5":"border-slate-100 hover:border-slate-200"),children:[e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:l("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",s==="wompi"?"bg-primary text-white":"bg-slate-100 text-slate-400"),children:e.jsx(v,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 uppercase tracking-tight text-sm",children:"Wompi"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Tarjetas, PSE, Nequi"})]})]}),s==="wompi"&&e.jsx("div",{className:"absolute top-4 right-4 animate-in zoom-in duration-300",children:e.jsx(m,{className:"w-5 h-5 text-primary"})})]}),e.jsxs("button",{onClick:()=>{j("transfer"),o("payment_method","transfer")},className:l("w-full p-4 bg-white rounded-[24px] border-2 text-left transition-all relative group overflow-hidden",s==="transfer"?"border-primary shadow-lg shadow-primary/5":"border-slate-100 hover:border-slate-200"),children:[e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:l("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",s==="transfer"?"bg-primary text-white":"bg-slate-100 text-slate-400"),children:e.jsx(k,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-black text-slate-900 uppercase tracking-tight text-sm",children:"Transferencia"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Directa a Banco"})]})]}),s==="transfer"&&e.jsx("div",{className:"absolute top-4 right-4 animate-in zoom-in duration-300",children:e.jsx(m,{className:"w-5 h-5 text-primary"})})]})]}),s==="transfer"&&a?e.jsxs(w,{className:"p-4 bg-white rounded-[24px] border text-slate-900 space-y-4 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 flex items-center justify-center text-primary",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-lg font-black",children:"Datos de Pago"}),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 tracking-widest uppercase",children:"Transferencia Directa"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Banco"}),e.jsx("span",{className:"text-sm font-black",children:a.bank_name})]}),e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Tipo de Cuenta"}),e.jsx("span",{className:"text-sm font-black",children:a.account_type})]}),e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2 relative group",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Número de Cuenta"}),e.jsx("span",{className:"text-sm font-black",children:a.account_number})]}),e.jsxs("div",{className:"flex flex-col gap-1 border-b border-white/10 pb-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"Titular"}),e.jsx("span",{className:"text-sm font-black",children:a.account_holder})]}),e.jsxs("div",{className:"flex flex-col gap-1 pb-1",children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500",children:"NIT / Documento"}),e.jsx("span",{className:"text-sm font-black",children:a.nit})]})]}),e.jsx("div",{className:"rounded-2xl bg-white/5 border border-white/10 flex items-start gap-4",children:e.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Reporta tu pago en la sección de facturas o vía soporte para activación inmediata."})})]}):e.jsxs("div",{className:"p-8 rounded-[32px] bg-white border border-slate-100 text-slate-900 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-black uppercase leading-tight",children:"¿Listo para activar tu marca?"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:"Serás redirigido a la pasarela segura de **Wompi** para finalizar tu pago inmediatamente."})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center text-[10px] font-black text-slate-500 uppercase tracking-widest border-t border-white/10 pt-4",children:[e.jsx(G,{className:"w-3 h-3 text-primary"}),"Pago seguro encriptado"]})]})]})]})}),e.jsx(z,{open:N,onOpenChange:c,children:e.jsxs(B,{className:"max-w-md rounded-lg p-0 overflow-hidden border-none shadow-2xl",children:[e.jsx(R,{className:"pt-8 pb-0",children:e.jsx(A,{className:"text-2xl font-black text-center",children:"Confirmar Transferencia"})}),e.jsxs("div",{className:"px-8 space-y-6",children:[e.jsxs("div",{className:"space-y-4 pt-0",children:[e.jsxs("p",{className:"text-xs font-medium text-slate-600",children:['"Sube una captura de pantalla o el PDF de tu transferencia para activar tu plan **',t.name,'**."']}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"file",onChange:h=>o("proof",h.target.files?.[0]||null),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",accept:"image/*,application/pdf"}),e.jsx("div",{className:l("p-10 rounded-[28px] border-2 border-dashed transition-all flex flex-col items-center gap-4 bg-slate-50 text-center",n.proof?"border-primary bg-primary/5":"border-slate-100 group-hover:border-slate-200"),children:n.proof?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary text-white flex items-center justify-center shadow-lg animate-in zoom-in",children:e.jsx(O,{className:"w-8 h-8"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"block font-black text-slate-900 uppercase text-xs truncate max-w-[200px]",children:n.proof.name}),e.jsx("span",{className:"text-[10px] font-bold text-primary uppercase",children:"¡Comprobante Listo!"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white shadow-sm flex items-center justify-center text-slate-400 group-hover:scale-110 transition-transform",children:e.jsx(E,{className:"w-8 h-8"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-black text-slate-900 uppercase text-xs tracking-tight",children:"Seleccionar Comprobante"}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:"PNG, JPG o PDF hasta 4MB"})]})]})})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(u,{onClick:g,disabled:r||!n.proof,className:"w-full h-10 hover:bg-primary/90 text-white font-black text-sm uppercase shadow-xl shadow-primary/20 group",children:[r?"Procesando...":"Finalizar y Notificar",e.jsx(m,{className:"w-5 h-5 ml-2 group-hover:scale-110 transition-transform"})]}),e.jsx(u,{variant:"destructive",onClick:()=>c(!1),disabled:r,className:"w-full h-10 font-bold uppercase text-[10px] tracking-widest",children:"Cancelar"})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 flex items-center justify-center gap-2 border-t border-slate-100",children:[e.jsx(y,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-[10px] font-black text-slate-400 tracking-widest",children:"Pago Protegido con Linkiu Pay"})]})]})})]})}export{Ye as default};
