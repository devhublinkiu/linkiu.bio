import{r as m,j as e,H as v,a as p}from"./app-Bo0l-nyL.js";import{S as N}from"./SuperAdminLayout-C--MnbTX.js";import{C as x,d as h,a as S,b as C,c as w}from"./card-CLdEHqC0.js";import{T as b,a as E,b as c,c as r,d as T,e as s}from"./table-BukWaDUS.js";import{B as t}from"./badge-T_0PRSRY.js";import{I as _}from"./input-BQLGMA-c.js";import{L as D}from"./label-BvJxTSA7.js";import{S as I,a as P,b as H,c as A,d as i}from"./select-CeEoLi0a.js";import{S as B}from"./Pagination-DKFmSjQ7.js";import{E as L,a as k,b as M,c as V,d as z}from"./empty-Bya45bLo.js";import{S as F}from"./search-EFBB3uIl.js";import{C as O}from"./credit-card-C_0EBMTX.js";import{C as R}from"./calendar-D4jj149y.js";import"./button-10Bc0E3d.js";import"./utils-DvD3N-9F.js";import"./dropdown-menu-BLdek0j6.js";import"./createLucideIcon-3AckdKRt.js";import"./chevron-right-B4UhmXxg.js";import"./index-Bj75TZ4c.js";import"./index-nKjDUAgZ.js";import"./index-CXl70Eho.js";import"./index-BaTs_s0z.js";import"./circle-check-D-62-mjA.js";import"./trash-2-CGD0dP--.js";import"./check-BxakoWLx.js";import"./shopping-bag-ovPa-jWO.js";import"./dialog-NO27f9rI.js";import"./x-0PRwyTAe.js";import"./separator-rnPeP9N4.js";import"./index-CS0_ycFC.js";import"./sheet-Bz3Lea4F.js";import"./index-UkxbaV1a.js";import"./index-Ce-cpEu5.js";import"./index-DU1na7Ze.js";import"./index-DlxfeT00.js";import"./index-DY8QIQU5.js";import"./index-BrTki0md.js";import"./index-Q_gv5oQO.js";import"./chevrons-up-down-CDiH0g-q.js";import"./badge-check-DcDsd9yF.js";import"./ApplicationLogo-BrXO3AMH.js";import"./users-Cl7FA0jJ.js";import"./layout-grid-CS-h8BvL.js";import"./index-BdQq_4o_.js";import"./index-DwXGMyUE.js";import"./chevron-down-CPoZLJYe.js";import"./chevron-up-BkpbFJvV.js";import"./ellipsis-Dqcxt_C-.js";import"./chevron-left-D1zMcYAS.js";function Ve({subscriptions:l,filters:d}){const[n,u]=m.useState(d.search||""),[o,j]=m.useState(d.status||"all"),f=a=>{a.preventDefault(),p.get(route("subscriptions.index"),{search:n,status:o},{preserveState:!0})},g=a=>{j(a),p.get(route("subscriptions.index"),{search:n,status:a},{preserveState:!0})},y=a=>{switch(a){case"active":return e.jsx(t,{className:"bg-green-600",children:"Activa"});case"trialing":return e.jsx(t,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"En Prueba"});case"past_due":return e.jsx(t,{variant:"destructive",children:"En Mora"});case"cancelled":return e.jsx(t,{variant:"outline",className:"text-gray-500",children:"Cancelada"});case"expired":return e.jsx(t,{variant:"outline",className:"text-gray-500",children:"Expirada"});default:return e.jsx(t,{variant:"outline",children:a})}};return e.jsxs(N,{header:"Gestión de Suscripciones",children:[e.jsx(v,{title:"Suscripciones"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(x,{className:"mb-6",children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[e.jsxs("form",{onSubmit:f,className:"relative w-full sm:w-80",children:[e.jsx(F,{className:"absolute left-3 top-2 h-4 w-4 text-gray-400"}),e.jsx(_,{placeholder:"Buscar por ID de cliente o tienda...",value:n,onChange:a=>u(a.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx(D,{className:"text-sm font-medium text-muted-foreground whitespace-nowrap",children:"Estado:"}),e.jsxs(I,{value:o,onValueChange:g,children:[e.jsx(P,{className:"w-[180px]",children:e.jsx(H,{placeholder:"Filtrar estado"})}),e.jsxs(A,{children:[e.jsx(i,{value:"all",children:"Todas las suscripciones"}),e.jsx(i,{value:"active",children:"Activas"}),e.jsx(i,{value:"trialing",children:"En Prueba"}),e.jsx(i,{value:"past_due",children:"En Mora"}),e.jsx(i,{value:"cancelled",children:"Canceladas"})]})]})]})]})})}),e.jsxs(x,{children:[e.jsxs(S,{children:[e.jsx(C,{children:"Listado de Suscripciones"}),e.jsx(w,{children:"Visualiza el estado de las suscripciones de tus clientes."})]}),e.jsxs(h,{children:[e.jsxs(b,{children:[e.jsx(E,{children:e.jsxs(c,{children:[e.jsx(r,{children:"ID Suscripción"}),e.jsx(r,{children:"Tienda"}),e.jsx(r,{children:"Plan"}),e.jsx(r,{children:"Estado"}),e.jsx(r,{children:"Ciclo"}),e.jsx(r,{children:"Próximo Pago"})]})}),e.jsx(T,{children:l.data.length===0?e.jsx(c,{children:e.jsx(s,{colSpan:6,className:"h-[400px]",children:e.jsxs(L,{className:"h-full",children:[e.jsx(k,{children:e.jsx("div",{className:"bg-gray-50 p-4 rounded-full mb-4",children:e.jsx(O,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs(M,{children:[e.jsx(V,{children:"No hay suscripciones"}),e.jsx(z,{children:"Aún no se han registrado suscripciones activas en el sistema."})]})]})})}):l.data.map(a=>e.jsxs(c,{children:[e.jsxs(s,{className:"text-xs font-medium text-muted-foreground whitespace-nowrap",children:["#",a.id]}),e.jsx(s,{className:"font-medium",children:a.tenant?.name||`Tienda #${a.tenant?.id}`}),e.jsx(s,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:a.plan?.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[new Intl.NumberFormat("es-CO",{style:"currency",currency:a.plan?.currency||"COP"}).format(a.plan?.monthly_price||0),"/mes"]})]})}),e.jsx(s,{children:y(a.status)}),e.jsx(s,{className:"capitalize",children:a.billing_cycle==="monthly"?"Mensual":a.billing_cycle==="yearly"?"Anual":a.billing_cycle==="quarterly"?"Trimestral":a.billing_cycle==="weekly"?"Semanal":a.billing_cycle==="daily"?"Diario":a.billing_cycle}),e.jsx(s,{children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(R,{className:"h-4 w-4"}),a.next_payment_date?new Date(a.next_payment_date).toLocaleDateString():"-"]})})]},a.id))})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(B,{links:l.links})})]})]})]})]})}export{Ve as default};
