import{r as b,j as e,H as C,L as i,a as m}from"./app-D9wldZxo.js";import{S}from"./SuperAdminLayout-CPtcwFpO.js";import{B as r}from"./button-Dadb_Lep.js";import{C as w,a as D,b as T,c as E,d as A}from"./card-DbFVjWqh.js";import{T as _,a as B,b as h,c as t,d as L,e as a}from"./table-B6cmMBvL.js";import{B as l}from"./badge-DyYF213F.js";import{I as P}from"./input-rMsYcH4C.js";import{S as H,a as k,b as R,c as F,d as j}from"./select-Bbe1RuXu.js";import{E as I,a as z,b as M,c as V,d as Y}from"./empty-SlYDCCGq.js";import{A as q,h as G,a as J,b as K,c as O,d as Q,e as U,f as W,g as X}from"./alert-dialog-BL6dXcRY.js";import{S as Z}from"./Pagination-3BS96hmy.js";import{F as $}from"./folder-plus-C92oMZaY.js";import{P as u}from"./plus-evWAfx61.js";import{S as ee}from"./search-lqHHsKRN.js";import{P as se}from"./pencil-BtBbIayn.js";import{T as re}from"./trash-2-CMPgRqgc.js";import"./dropdown-menu-C4-9o8Rw.js";import"./createLucideIcon-CJjlOp5I.js";import"./utils-B0KHI9vB.js";import"./chevron-right-BSwXEIvG.js";import"./index-BDWpq_YI.js";import"./index-BrcTw33p.js";import"./index-BMdzuiHN.js";import"./index-tfOuMV4B.js";import"./circle-check-CN90YBLh.js";import"./check-BAxbGpAF.js";import"./credit-card-CPDlDYf1.js";import"./shopping-bag-CQGcPT0-.js";import"./dialog-C0Lg02Tk.js";import"./x-dvUxMxq3.js";import"./separator-L5pP8n2q.js";import"./index-CZBSMaku.js";import"./sheet-BP6KOnln.js";import"./index-CbR7iZJO.js";import"./index-DeHGgcwY.js";import"./index-CXzOyCXW.js";import"./index-DdTS5Ad2.js";import"./index-fFU5c_p6.js";import"./index-Dvu8qGWr.js";import"./index-D4lOZYra.js";import"./echo-CmTENghG.js";import"./chevrons-up-down-Cepco8Sn.js";import"./badge-check-CEpGdEtW.js";import"./ApplicationLogo-DuPOXIDR.js";import"./users-OjDIvTV8.js";import"./layout-grid-DMUl8Ye2.js";import"./index-BdQq_4o_.js";import"./index--Jev_GdI.js";import"./chevron-down-Dux0wLDw.js";import"./chevron-up-IlwuOcq-.js";import"./ellipsis-BfbyL5_C.js";import"./chevron-left-BFxUkP0a.js";const ae={new:"Nuevo",fix:"Corrección",improvement:"Mejora",security:"Seguridad",performance:"Rendimiento"};function rs({releases:o,categories:x,filters:n}){const[c,g]=b.useState(n.search||""),d=o.data||o,p=o.links||[],f=s=>{s.preventDefault(),m.get(route("release-notes.index"),{search:c,category_id:n.category_id},{preserveState:!0,replace:!0})},v=s=>{m.get(route("release-notes.index"),{search:c,category_id:s||void 0},{preserveState:!0,replace:!0})},N=s=>{m.delete(route("release-notes.destroy",s))},y=s=>s?new Date(s).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}):"-";return e.jsxs(S,{header:"Release Notes",children:[e.jsx(C,{title:"Release Notes"}),e.jsxs("div",{className:"max-w-7xl mx-auto py-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Release Notes"}),e.jsx("p",{className:"text-muted-foreground",children:"Novedades y changelog para la página pública."})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[e.jsx(r,{variant:"outline",asChild:!0,children:e.jsxs(i,{href:route("release-note-categories.index"),children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Crear categoría"]})}),e.jsx(r,{asChild:!0,children:e.jsxs(i,{href:route("release-notes.create"),children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Nuevo release"]})})]})]}),e.jsxs(w,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(T,{children:"Listado"}),e.jsxs(E,{children:["Mostrando ",d.length," entrada(s)."]})]}),e.jsxs("form",{onSubmit:f,className:"flex gap-2 flex-1 sm:max-w-sm",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(P,{placeholder:"Buscar por título...",value:c,onChange:s=>g(s.target.value),className:"pl-9"})]}),e.jsx(r,{type:"submit",variant:"secondary",children:"Buscar"})]}),x.length>0&&e.jsxs(H,{value:n.category_id||"all",onValueChange:v,children:[e.jsx(k,{className:"w-[180px]",children:e.jsx(R,{placeholder:"Categoría"})}),e.jsxs(F,{children:[e.jsx(j,{value:"all",children:"Todas las categorías"}),x.map(s=>e.jsx(j,{value:String(s.id),children:s.name},s.id))]})]})]})}),e.jsxs(A,{children:[e.jsxs(_,{children:[e.jsx(B,{children:e.jsxs(h,{children:[e.jsx(t,{children:"Título"}),e.jsx(t,{children:"Categoría"}),e.jsx(t,{children:"Tipo"}),e.jsx(t,{children:"Fecha"}),e.jsx(t,{children:"Estado"}),e.jsx(t,{className:"text-right",children:"Acciones"})]})}),e.jsxs(L,{children:[d.map(s=>e.jsxs(h,{children:[e.jsx(a,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.cover_url&&e.jsx("img",{src:s.cover_url,alt:"",className:"h-10 w-14 object-cover rounded"}),e.jsx("span",{children:s.title}),s.is_featured&&e.jsx(l,{variant:"secondary",className:"text-xs",children:"Destacado"})]})}),e.jsx(a,{children:e.jsx(l,{variant:"outline",children:s.release_note_category?.name??"-"})}),e.jsx(a,{children:e.jsx(l,{variant:"secondary",children:ae[s.type]??s.type})}),e.jsx(a,{className:"text-muted-foreground",children:y(s.published_at)}),e.jsx(a,{children:s.status==="published"?e.jsx(l,{className:"bg-green-600",children:"Publicado"}):e.jsx(l,{variant:"secondary",children:"Borrador"})}),e.jsx(a,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(r,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(i,{href:route("release-notes.edit",s.id),children:e.jsx(se,{className:"h-4 w-4 text-blue-600"})})}),e.jsxs(q,{children:[e.jsx(G,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(re,{className:"h-4 w-4 text-red-500"})})}),e.jsxs(J,{children:[e.jsxs(K,{children:[e.jsx(O,{children:"¿Eliminar este release note?"}),e.jsx(Q,{children:"Esta acción no se puede deshacer."})]}),e.jsxs(U,{children:[e.jsx(W,{children:"Cancelar"}),e.jsx(X,{onClick:()=>N(s.id),className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})]})]})})]},s.id)),d.length===0&&e.jsx(h,{children:e.jsx(a,{colSpan:6,className:"h-[300px]",children:e.jsxs(I,{className:"h-full",children:[e.jsx(z,{children:e.jsx("div",{className:"bg-gray-50 p-4 rounded-full mb-4",children:e.jsx(u,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs(M,{children:[e.jsx(V,{children:"No hay release notes"}),e.jsx(Y,{children:"Crea el primero o gestiona las categorías desde el botón «Crear categoría»."})]}),e.jsxs("div",{className:"mt-6 flex gap-2",children:[e.jsx(r,{asChild:!0,children:e.jsx(i,{href:route("release-notes.create"),children:"Crear release note"})}),e.jsx(r,{variant:"outline",asChild:!0,children:e.jsx(i,{href:route("release-note-categories.index"),children:"Ir a categorías"})})]})]})})})]})]}),p.length>0&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(Z,{links:p})})]})]})]})]})}export{rs as default};
