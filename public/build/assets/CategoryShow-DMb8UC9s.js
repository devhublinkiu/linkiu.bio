import{r as l,j as e,H as S,L as P,a as L}from"./app-CzmtjlCW.js";import{P as z}from"./PublicLayout-B9YRYw21.js";import{H as A}from"./Header-Ct5lkLP_.js";import{P as T}from"./ProductCard-CZDDBHVK.js";import{P as $}from"./ProductDetailDrawer-F2o1f3f0.js";import{C as I}from"./chevron-left-BrVnOOoC.js";import{S as b}from"./search-CetFsz5w.js";import{X as D}from"./x-B2qOMX6F.js";import{F as V}from"./flame-Dd94TfBp.js";import{c as g}from"./createLucideIcon-CaH5oZCX.js";import{S as E}from"./star-BWFeNTek.js";import"./index-t8tEv5cu.js";import"./proxy-Dqdmyp-K.js";import"./shopping-bag-BzAvYKks.js";import"./chevron-right-CP3Al_6X.js";import"./lock-nV4mWcAC.js";import"./truck-BuohTmzx.js";import"./credit-card-o3EdvoAE.js";import"./headphones-CE-eXCS3.js";import"./utils-BH2tHD_A.js";import"./dialog-CDtZpi6V.js";import"./index-DLCIQy2W.js";import"./index-Bik950zP.js";import"./index-tuvqS7go.js";import"./index-D4uLenfM.js";import"./button-DHDYV-Vu.js";import"./input-CkrKzdip.js";import"./label-s6Z-YQDs.js";import"./index-B7u58P25.js";import"./textarea-BVs60Bnz.js";import"./arrow-right-B-ZkIkW9.js";import"./map-pin-BE5u9cGW.js";import"./layout-grid-Do7wAopY.js";import"./house-DOB4FUSL.js";import"./calendar-CLz13BXv.js";import"./badge-check-bj2LNrR7.js";import"./plus-BCBDbY-P.js";import"./util-CeAI_f06.js";import"./sheet-BCCP-sjc.js";import"./minus-DAU_1RQK.js";const H=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],M=g("leaf",H);const O=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],F=g("percent",O),q=["Vegetariano","vegetariano","veggie","Veggie"];function Le({tenant:a,category:o,categories:j}){const[n,m]=l.useState(""),[r,v]=l.useState("Todos"),[p,u]=l.useState(null),[w,c]=l.useState(!1),x=a.brand_colors??{bg_color:"#f8fafc",name_color:"#1e293b",description_color:"#64748b"},{bg_color:h,name_color:N}=x;l.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("product");if(!s||!o.products?.length)return;const i=o.products.find(d=>d.slug===s);i&&(u(i),c(!0))},[o.products]);const y=()=>{window.history.length>1?window.history.back():L.visit(route("tenant.menu",a.slug))},_=[{id:"todos",label:"Todos",icon:null},{id:"featured",label:"Destacados",icon:V},{id:"offers",label:"Ofertas",icon:F},{id:"veggie",label:"Vegetariano",icon:M},{id:"top",label:"Populares",icon:E}],f=l.useMemo(()=>{const t=n.toLowerCase().trim();return o.products.filter(s=>{const i=!t||s.name.toLowerCase().includes(t)||s.short_description&&s.short_description.toLowerCase().includes(t),d=r==="Todos"||r==="Destacados"&&s.is_featured||r==="Populares"&&s.is_featured||r==="Ofertas"&&s.original_price&&parseFloat(s.original_price)>parseFloat(s.price)||r==="Vegetariano"&&s.tags&&s.tags.some(k=>q.includes(String(k)))||s.tags&&s.tags.includes(r);return i&&d})},[o.products,n,r]),C=t=>{u(t),c(!0)};return e.jsxs(z,{bgColor:h,children:[e.jsx(S,{title:`${o.name} - ${a.name}`}),e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50/50",children:[e.jsx(A,{tenantName:a.name,logoUrl:a.logo_url,description:a.store_description,bgColor:h,textColor:N,descriptionColor:x.description_color}),e.jsxs("div",{className:"bg-white px-4 pt-4 pb-2 flex items-center gap-4",children:[e.jsx("button",{onClick:y,className:"w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center text-slate-600 active:scale-95 transition-all",children:e.jsx(I,{className:"size-6"})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tight uppercase",children:o.name})})]}),e.jsx("div",{className:"bg-white border-b border-slate-100 pb-2",children:e.jsx("div",{className:"flex items-center gap-4 px-4 overflow-x-auto no-scrollbar py-2",children:j.map(t=>{const s=t.id===o.id;return e.jsxs(P,{href:s?"#":route("tenant.menu.category",[a.slug,t.slug]),className:"flex flex-col items-center gap-2.5 shrink-0 group",children:[e.jsxs("div",{className:`
                                        w-[4.5rem] h-[4.5rem] rounded-[1.2rem] bg-white flex items-center justify-center transition-all duration-300 group-hover:scale-105 group-hover:shadow-lg group-active:scale-95 border border-slate-100/80 overflow-hidden relative
                                        ${s?"shadow-lg border-slate-300":"shadow-sm"}
                                    `,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white to-slate-50 opacity-50"}),t.icon?e.jsx("img",{src:t.icon.icon_url,alt:t.name,className:"w-9 h-9 object-contain relative z-10 opacity-90 group-hover:opacity-100 transition-opacity"}):e.jsx("div",{className:"w-8 h-8 rounded-md bg-slate-100 flex items-center justify-center text-slate-300 font-bold text-xs relative z-10",children:t.name.charAt(0)})]}),e.jsx("span",{className:`text-[11px] font-semibold text-center leading-tight line-clamp-2 px-0.5 transition-colors ${s?"text-slate-900":"text-slate-600 group-hover:text-slate-900"}`,children:t.name})]},t.id)})})}),e.jsxs("div",{className:"sticky top-0 z-[100] bg-white shadow-sm border-b border-slate-100 pb-0.5",children:[e.jsx("div",{className:"px-4 pt-4 pb-4",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:e.jsx(b,{className:"size-5 text-slate-400 group-focus-within:text-slate-900 transition-colors"})}),e.jsx("input",{type:"text",placeholder:`Buscar en ${o.name}...`,value:n,onChange:t=>m(t.target.value),className:"w-full h-11 pl-12 pr-10 bg-slate-100 border-transparent focus:bg-white focus:border-slate-900 focus:ring-4 focus:ring-slate-900/5 rounded-2xl text-sm font-medium transition-all"}),n&&e.jsx("button",{onClick:()=>m(""),className:"absolute inset-y-0 right-3 flex items-center px-1",children:e.jsx(D,{className:"size-4 text-slate-400 bg-slate-200 rounded-full p-0.5"})})]})}),e.jsx("div",{className:"flex items-center gap-2 px-4 pb-4 overflow-x-auto no-scrollbar scroll-smooth",children:_.map(t=>{const s=t.icon,i=r===t.label;return e.jsxs("button",{onClick:()=>v(t.label),className:`
                                        shrink-0 px-4 py-2 rounded-xl text-xs font-bold transition-all flex items-center gap-1.5 border
                                        ${i?"bg-slate-900 text-white border-slate-900 shadow-md scale-105":"bg-white text-slate-500 border-slate-100 hover:bg-slate-50"}
                                    `,children:[s&&e.jsx(s,{className:`size-3.5 ${i?"fill-current":""}`}),t.label]},t.id)})})]}),e.jsx("div",{className:"p-4 pb-32 space-y-4",children:f.length>0?f.map(t=>e.jsx(T,{product:t,onClick:()=>C(t)},t.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"bg-white p-6 rounded-full shadow-sm mb-4",children:e.jsx(b,{className:"size-10 text-slate-200"})}),e.jsx("h3",{className:"font-bold text-slate-900",children:"No encontramos productos"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1 max-w-[200px]",children:"Intenta con otros filtros o busca algo distinto."})]})}),p&&e.jsx($,{product:p,isOpen:w,onClose:()=>c(!1)})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
            `}})]})}export{Le as default};
